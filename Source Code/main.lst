CCS PCH C Compiler, Version 5.015, 5967               29-ago-18 20:37

               Filename:   C:\Users\Administrador.NP152499\Music\Receita Federal\Robo\Source Code\main.lst

               ROM used:   5430 bytes (17%)
                           Largest free fragment is 23238
               RAM used:   42 (2%) at main() level
                           88 (4%) worst case
               Stack used: 12 locations (6 in main + 6 for interrupts)
               Stack size: 31

*
1000:  GOTO   2280
*
1008:  MOVWF  04
100A:  MOVFF  FD8,05
100E:  MOVFF  FE0,06
1012:  MOVLB  0
1014:  MOVFF  FE9,0C
1018:  MOVFF  FEA,07
101C:  MOVFF  FE1,08
1020:  MOVFF  FE2,09
1024:  MOVFF  FD9,0A
1028:  MOVFF  FDA,0B
102C:  MOVFF  FF3,12
1030:  MOVFF  FF4,13
1034:  MOVFF  FFA,14
1038:  MOVFF  00,0E
103C:  MOVFF  01,0F
1040:  MOVFF  02,10
1044:  MOVFF  03,11
1048:  BTFSS  FF2.5
104A:  GOTO   1054
104E:  BTFSC  FF2.2
1050:  GOTO   12CC
1054:  MOVFF  0E,00
1058:  MOVFF  0F,01
105C:  MOVFF  10,02
1060:  MOVFF  11,03
1064:  MOVFF  0C,FE9
1068:  MOVFF  07,FEA
106C:  BSF    07.7
106E:  MOVFF  08,FE1
1072:  MOVFF  09,FE2
1076:  MOVFF  0A,FD9
107A:  MOVFF  0B,FDA
107E:  MOVFF  12,FF3
1082:  MOVFF  13,FF4
1086:  MOVFF  14,FFA
108A:  MOVF   04,W
108C:  MOVFF  06,FE0
1090:  MOVFF  05,FD8
1094:  RETFIE 0
.................... #include <main.h> 
.................... #include "18F4550.h" 
.................... //////////// Standard Header file for the PIC18F4550 device //////////////// 
.................... /////////////////////////////////////////////////////////////////////////// 
.................... ////        (C) Copyright 1996, 2013 Custom Computer Services          //// 
.................... //// This source code may only be used by licensed users of the CCS C  //// 
.................... //// compiler.  This source code may only be distributed to other      //// 
.................... //// licensed users of the CCS C compiler.  No other use, reproduction //// 
.................... //// or distribution is permitted without written permission.          //// 
.................... //// Derivative programs created using this software in object code    //// 
.................... //// form are not restricted in any way.                               //// 
.................... /////////////////////////////////////////////////////////////////////////// 
.................... #device PIC18F4550 
1096:  MOVFF  FF2,0D
109A:  BCF    FF2.7
109C:  CLRF   FF7
109E:  ADDLW  B0
10A0:  MOVWF  FF6
10A2:  MOVLW  10
10A4:  ADDWFC FF7,F
10A6:  TBLRD*+
10A8:  MOVF   FF5,W
10AA:  BTFSC  0D.7
10AC:  BSF    FF2.7
10AE:  RETURN 0
10B0:  DATA 28,0C
10B2:  DATA 01,06
*
11DC:  TBLRD*+
11DE:  MOVFF  FF6,4A
11E2:  MOVFF  FF7,4B
11E6:  MOVFF  FF5,4F
11EA:  RCALL  118C
11EC:  MOVFF  4A,FF6
11F0:  MOVFF  4B,FF7
11F4:  DECFSZ 49,F
11F6:  BRA    11DC
11F8:  RETURN 0
11FA:  MOVF   50,W
11FC:  CLRF   01
11FE:  SUBWF  4F,W
1200:  BC    1208
1202:  MOVFF  4F,00
1206:  BRA    1220
1208:  CLRF   00
120A:  MOVLW  08
120C:  MOVWF  51
120E:  RLCF   4F,F
1210:  RLCF   00,F
1212:  MOVF   50,W
1214:  SUBWF  00,W
1216:  BTFSC  FD8.0
1218:  MOVWF  00
121A:  RLCF   01,F
121C:  DECFSZ 51,F
121E:  BRA    120E
1220:  RETURN 0
1222:  MOVLW  20
1224:  BTFSS  4A.4
1226:  MOVLW  30
1228:  MOVWF  4B
122A:  MOVFF  49,00
122E:  BTFSS  49.7
1230:  BRA    1242
1232:  COMF   00,F
1234:  INCF   00,F
1236:  MOVFF  00,49
123A:  MOVLW  2D
123C:  MOVWF  4B
123E:  BSF    4A.7
1240:  BSF    4A.0
1242:  MOVF   01,W
1244:  MOVFF  49,4F
1248:  MOVLW  64
124A:  MOVWF  50
124C:  RCALL  11FA
124E:  MOVFF  00,49
1252:  MOVLW  30
1254:  ADDWF  01,W
1256:  MOVWF  4C
1258:  MOVFF  49,4F
125C:  MOVLW  0A
125E:  MOVWF  50
1260:  RCALL  11FA
1262:  MOVLW  30
1264:  ADDWF  00,W
1266:  MOVWF  4E
1268:  MOVLW  30
126A:  ADDWF  01,W
126C:  MOVWF  4D
126E:  MOVFF  4B,00
1272:  MOVLW  30
1274:  SUBWF  4C,W
1276:  BZ    1280
1278:  BSF    4A.1
127A:  BTFSC  4A.7
127C:  BSF    4A.2
127E:  BRA    12A4
1280:  MOVFF  4B,4C
1284:  MOVLW  20
1286:  MOVWF  4B
1288:  MOVLW  30
128A:  SUBWF  4D,W
128C:  BZ    1296
128E:  BSF    4A.0
1290:  BTFSC  4A.7
1292:  BSF    4A.1
1294:  BRA    12A4
1296:  BTFSS  FD8.2
1298:  BSF    4A.0
129A:  BNZ   12A4
129C:  MOVFF  4C,4D
12A0:  MOVLW  20
12A2:  MOVWF  4C
12A4:  BTFSC  4A.2
12A6:  BRA    12B2
12A8:  BTFSC  4A.1
12AA:  BRA    12B8
12AC:  BTFSC  4A.0
12AE:  BRA    12BE
12B0:  BRA    12C4
12B2:  MOVFF  4B,4F
12B6:  RCALL  118C
12B8:  MOVFF  4C,4F
12BC:  RCALL  118C
12BE:  MOVFF  4D,4F
12C2:  RCALL  118C
12C4:  MOVFF  4E,4F
12C8:  RCALL  118C
12CA:  RETURN 0
*
1396:  DATA 20,64
1398:  DATA 3A,20
139A:  DATA 25,64
139C:  DATA 00,00
139E:  DATA 20,63
13A0:  DATA 3A,20
13A2:  DATA 25,64
13A4:  DATA 00,00
13A6:  DATA 20,49
13A8:  DATA 6E,69
13AA:  DATA 63,69
13AC:  DATA 61,6C
13AE:  DATA 69,7A
13B0:  DATA 61,6E
13B2:  DATA 64,6F
13B4:  DATA 00,00
13B6:  DATA 46,69
13B8:  DATA 6D,20
13BA:  DATA 64,6F
13BC:  DATA 20,70
13BE:  DATA 72,6F
13C0:  DATA 67,72
13C2:  DATA 61,6D
13C4:  DATA 61,64
13C6:  DATA 6F,00
13C8:  DATA 45,73
13CA:  DATA 74,61
13CC:  DATA 20,61
13CE:  DATA 20,64
13D0:  DATA 69,72
13D2:  DATA 65,69
13D4:  DATA 74,61
13D6:  DATA 00,00
13D8:  DATA 45,73
13DA:  DATA 74,61
13DC:  DATA 20,61
13DE:  DATA 20,65
13E0:  DATA 73,71
13E2:  DATA 75,65
13E4:  DATA 72,64
13E6:  DATA 61,00
13E8:  DATA 53,65
13EA:  DATA 20,70
13EC:  DATA 65,72
13EE:  DATA 64,65
13F0:  DATA 75,00
13F2:  DATA 45,73
13F4:  DATA 74,61
13F6:  DATA 20,61
13F8:  DATA 20,64
13FA:  DATA 69,72
13FC:  DATA 65,69
13FE:  DATA 74,61
1400:  DATA 00,00
1402:  DATA 45,73
1404:  DATA 74,61
1406:  DATA 20,61
1408:  DATA 20,65
140A:  DATA 73,71
140C:  DATA 75,65
140E:  DATA 72,64
1410:  DATA 61,00
1412:  DATA 53,65
1414:  DATA 20,70
1416:  DATA 65,72
1418:  DATA 64,65
141A:  DATA 75,00
*
150C:  TBLRD*+
150E:  MOVF   FF5,F
1510:  BZ    1536
1512:  MOVFF  FF6,35
1516:  MOVFF  FF7,36
151A:  CLRF   16
151C:  BTFSC  FF2.7
151E:  BSF    16.7
1520:  BCF    FF2.7
1522:  MOVFF  FF5,4F
1526:  RCALL  118C
1528:  BTFSC  16.7
152A:  BSF    FF2.7
152C:  MOVFF  35,FF6
1530:  MOVFF  36,FF7
1534:  BRA    150C
1536:  RETURN 0
1538:  MOVLW  8E
153A:  MOVWF  00
153C:  MOVFF  3A,01
1540:  MOVFF  39,02
1544:  CLRF   03
1546:  MOVF   01,F
1548:  BNZ   155C
154A:  MOVFF  02,01
154E:  CLRF   02
1550:  MOVLW  08
1552:  SUBWF  00,F
1554:  MOVF   01,F
1556:  BNZ   155C
1558:  CLRF   00
155A:  BRA    156C
155C:  BCF    FD8.0
155E:  BTFSC  01.7
1560:  BRA    156A
1562:  RLCF   02,F
1564:  RLCF   01,F
1566:  DECF   00,F
1568:  BRA    155C
156A:  BCF    01.7
156C:  RETURN 0
156E:  MOVF   39,W
1570:  BTFSC  FD8.2
1572:  BRA    16BE
1574:  MOVWF  45
1576:  MOVF   3D,W
1578:  BTFSC  FD8.2
157A:  BRA    16BE
157C:  SUBWF  45,F
157E:  BNC   158A
1580:  MOVLW  7F
1582:  ADDWF  45,F
1584:  BTFSC  FD8.0
1586:  BRA    16BE
1588:  BRA    1596
158A:  MOVLW  81
158C:  SUBWF  45,F
158E:  BTFSS  FD8.0
1590:  BRA    16BE
1592:  BTFSC  FD8.2
1594:  BRA    16BE
1596:  MOVFF  45,00
159A:  CLRF   01
159C:  CLRF   02
159E:  CLRF   03
15A0:  CLRF   44
15A2:  MOVFF  3A,43
15A6:  BSF    43.7
15A8:  MOVFF  3B,42
15AC:  MOVFF  3C,41
15B0:  MOVLW  19
15B2:  MOVWF  45
15B4:  MOVF   40,W
15B6:  SUBWF  41,F
15B8:  BC    15D4
15BA:  MOVLW  01
15BC:  SUBWF  42,F
15BE:  BC    15D4
15C0:  SUBWF  43,F
15C2:  BC    15D4
15C4:  SUBWF  44,F
15C6:  BC    15D4
15C8:  INCF   44,F
15CA:  INCF   43,F
15CC:  INCF   42,F
15CE:  MOVF   40,W
15D0:  ADDWF  41,F
15D2:  BRA    1624
15D4:  MOVF   3F,W
15D6:  SUBWF  42,F
15D8:  BC    15FE
15DA:  MOVLW  01
15DC:  SUBWF  43,F
15DE:  BC    15FE
15E0:  SUBWF  44,F
15E2:  BC    15FE
15E4:  INCF   44,F
15E6:  INCF   43,F
15E8:  MOVF   3F,W
15EA:  ADDWF  42,F
15EC:  MOVF   40,W
15EE:  ADDWF  41,F
15F0:  BNC   1624
15F2:  INCF   42,F
15F4:  BNZ   1624
15F6:  INCF   43,F
15F8:  BNZ   1624
15FA:  INCF   44,F
15FC:  BRA    1624
15FE:  MOVF   3E,W
1600:  IORLW  80
1602:  SUBWF  43,F
1604:  BC    1622
1606:  MOVLW  01
1608:  SUBWF  44,F
160A:  BC    1622
160C:  INCF   44,F
160E:  MOVF   3E,W
1610:  IORLW  80
1612:  ADDWF  43,F
1614:  MOVF   3F,W
1616:  ADDWF  42,F
1618:  BNC   15EC
161A:  INCF   43,F
161C:  BNZ   15EC
161E:  INCF   44,F
1620:  BRA    15EC
1622:  BSF    03.0
1624:  DECFSZ 45,F
1626:  BRA    162A
1628:  BRA    1640
162A:  BCF    FD8.0
162C:  RLCF   41,F
162E:  RLCF   42,F
1630:  RLCF   43,F
1632:  RLCF   44,F
1634:  BCF    FD8.0
1636:  RLCF   03,F
1638:  RLCF   02,F
163A:  RLCF   01,F
163C:  RLCF   46,F
163E:  BRA    15B4
1640:  BTFSS  46.0
1642:  BRA    1650
1644:  BCF    FD8.0
1646:  RRCF   01,F
1648:  RRCF   02,F
164A:  RRCF   03,F
164C:  RRCF   46,F
164E:  BRA    1654
1650:  DECF   00,F
1652:  BZ    16BE
1654:  BTFSC  46.7
1656:  BRA    1694
1658:  BCF    FD8.0
165A:  RLCF   41,F
165C:  RLCF   42,F
165E:  RLCF   43,F
1660:  RLCF   44,F
1662:  MOVF   40,W
1664:  SUBWF  41,F
1666:  BC    1676
1668:  MOVLW  01
166A:  SUBWF  42,F
166C:  BC    1676
166E:  SUBWF  43,F
1670:  BC    1676
1672:  SUBWF  44,F
1674:  BNC   16AA
1676:  MOVF   3F,W
1678:  SUBWF  42,F
167A:  BC    1686
167C:  MOVLW  01
167E:  SUBWF  43,F
1680:  BC    1686
1682:  SUBWF  44,F
1684:  BNC   16AA
1686:  MOVF   3E,W
1688:  IORLW  80
168A:  SUBWF  43,F
168C:  BC    1694
168E:  MOVLW  01
1690:  SUBWF  44,F
1692:  BNC   16AA
1694:  INCF   03,F
1696:  BNZ   16AA
1698:  INCF   02,F
169A:  BNZ   16AA
169C:  INCF   01,F
169E:  BNZ   16AA
16A0:  INCF   00,F
16A2:  BZ    16BE
16A4:  RRCF   01,F
16A6:  RRCF   02,F
16A8:  RRCF   03,F
16AA:  MOVFF  3A,45
16AE:  MOVF   3E,W
16B0:  XORWF  45,F
16B2:  BTFSS  45.7
16B4:  BRA    16BA
16B6:  BSF    01.7
16B8:  BRA    16C6
16BA:  BCF    01.7
16BC:  BRA    16C6
16BE:  CLRF   00
16C0:  CLRF   01
16C2:  CLRF   02
16C4:  CLRF   03
16C6:  RETURN 0
16C8:  MOVFF  36,3D
16CC:  MOVF   3A,W
16CE:  XORWF  3D,F
16D0:  BTFSS  3D.7
16D2:  BRA    16DE
16D4:  BCF    FD8.2
16D6:  BCF    FD8.0
16D8:  BTFSC  36.7
16DA:  BSF    FD8.0
16DC:  BRA    173C
16DE:  MOVFF  36,3D
16E2:  MOVFF  39,3E
16E6:  MOVF   35,W
16E8:  SUBWF  3E,F
16EA:  BZ    16F8
16EC:  BTFSS  3D.7
16EE:  BRA    173C
16F0:  MOVF   FD8,W
16F2:  XORLW  01
16F4:  MOVWF  FD8
16F6:  BRA    173C
16F8:  MOVFF  3A,3E
16FC:  MOVF   36,W
16FE:  SUBWF  3E,F
1700:  BZ    170E
1702:  BTFSS  3D.7
1704:  BRA    173C
1706:  MOVF   FD8,W
1708:  XORLW  01
170A:  MOVWF  FD8
170C:  BRA    173C
170E:  MOVFF  3B,3E
1712:  MOVF   37,W
1714:  SUBWF  3E,F
1716:  BZ    1724
1718:  BTFSS  3D.7
171A:  BRA    173C
171C:  MOVF   FD8,W
171E:  XORLW  01
1720:  MOVWF  FD8
1722:  BRA    173C
1724:  MOVFF  3C,3E
1728:  MOVF   38,W
172A:  SUBWF  3E,F
172C:  BZ    173A
172E:  BTFSS  3D.7
1730:  BRA    173C
1732:  MOVF   FD8,W
1734:  XORLW  01
1736:  MOVWF  FD8
1738:  BRA    173C
173A:  BCF    FD8.0
173C:  RETURN 0
*
17B0:  MOVF   35,W
17B2:  BTFSC  FD8.2
17B4:  BRA    1898
17B6:  MOVWF  00
17B8:  MOVF   39,W
17BA:  BTFSC  FD8.2
17BC:  BRA    1898
17BE:  ADDWF  00,F
17C0:  BNC   17CA
17C2:  MOVLW  81
17C4:  ADDWF  00,F
17C6:  BC    1898
17C8:  BRA    17D2
17CA:  MOVLW  7F
17CC:  SUBWF  00,F
17CE:  BNC   1898
17D0:  BZ    1898
17D2:  MOVFF  36,3D
17D6:  MOVF   3A,W
17D8:  XORWF  3D,F
17DA:  BSF    36.7
17DC:  BSF    3A.7
17DE:  MOVF   38,W
17E0:  MULWF  3C
17E2:  MOVFF  FF4,3F
17E6:  MOVF   37,W
17E8:  MULWF  3B
17EA:  MOVFF  FF4,03
17EE:  MOVFF  FF3,3E
17F2:  MULWF  3C
17F4:  MOVF   FF3,W
17F6:  ADDWF  3F,F
17F8:  MOVF   FF4,W
17FA:  ADDWFC 3E,F
17FC:  MOVLW  00
17FE:  ADDWFC 03,F
1800:  MOVF   38,W
1802:  MULWF  3B
1804:  MOVF   FF3,W
1806:  ADDWF  3F,F
1808:  MOVF   FF4,W
180A:  ADDWFC 3E,F
180C:  MOVLW  00
180E:  CLRF   02
1810:  ADDWFC 03,F
1812:  ADDWFC 02,F
1814:  MOVF   36,W
1816:  MULWF  3C
1818:  MOVF   FF3,W
181A:  ADDWF  3E,F
181C:  MOVF   FF4,W
181E:  ADDWFC 03,F
1820:  MOVLW  00
1822:  ADDWFC 02,F
1824:  MOVF   36,W
1826:  MULWF  3B
1828:  MOVF   FF3,W
182A:  ADDWF  03,F
182C:  MOVF   FF4,W
182E:  ADDWFC 02,F
1830:  MOVLW  00
1832:  CLRF   01
1834:  ADDWFC 01,F
1836:  MOVF   38,W
1838:  MULWF  3A
183A:  MOVF   FF3,W
183C:  ADDWF  3E,F
183E:  MOVF   FF4,W
1840:  ADDWFC 03,F
1842:  MOVLW  00
1844:  ADDWFC 02,F
1846:  ADDWFC 01,F
1848:  MOVF   37,W
184A:  MULWF  3A
184C:  MOVF   FF3,W
184E:  ADDWF  03,F
1850:  MOVF   FF4,W
1852:  ADDWFC 02,F
1854:  MOVLW  00
1856:  ADDWFC 01,F
1858:  MOVF   36,W
185A:  MULWF  3A
185C:  MOVF   FF3,W
185E:  ADDWF  02,F
1860:  MOVF   FF4,W
1862:  ADDWFC 01,F
1864:  INCF   00,F
1866:  BTFSC  01.7
1868:  BRA    1874
186A:  RLCF   3E,F
186C:  RLCF   03,F
186E:  RLCF   02,F
1870:  RLCF   01,F
1872:  DECF   00,F
1874:  MOVLW  00
1876:  BTFSS  3E.7
1878:  BRA    188E
187A:  INCF   03,F
187C:  ADDWFC 02,F
187E:  ADDWFC 01,F
1880:  MOVF   01,W
1882:  BNZ   188E
1884:  MOVF   02,W
1886:  BNZ   188E
1888:  MOVF   03,W
188A:  BNZ   188E
188C:  INCF   00,F
188E:  BTFSC  3D.7
1890:  BSF    01.7
1892:  BTFSS  3D.7
1894:  BCF    01.7
1896:  BRA    18A0
1898:  CLRF   00
189A:  CLRF   01
189C:  CLRF   02
189E:  CLRF   03
18A0:  RETURN 0
18A2:  MOVLW  80
18A4:  BTFSC  FD8.1
18A6:  XORWF  3E,F
18A8:  CLRF   43
18AA:  CLRF   44
18AC:  MOVFF  3A,42
18B0:  MOVF   3E,W
18B2:  XORWF  42,F
18B4:  MOVF   39,W
18B6:  BTFSC  FD8.2
18B8:  BRA    1A72
18BA:  MOVWF  41
18BC:  MOVWF  00
18BE:  MOVF   3D,W
18C0:  BTFSC  FD8.2
18C2:  BRA    1A84
18C4:  SUBWF  41,F
18C6:  BTFSC  FD8.2
18C8:  BRA    19CC
18CA:  BNC   1946
18CC:  MOVFF  3E,47
18D0:  BSF    47.7
18D2:  MOVFF  3F,46
18D6:  MOVFF  40,45
18DA:  CLRF   44
18DC:  BCF    FD8.0
18DE:  RRCF   47,F
18E0:  RRCF   46,F
18E2:  RRCF   45,F
18E4:  RRCF   44,F
18E6:  DECFSZ 41,F
18E8:  BRA    18DA
18EA:  BTFSS  42.7
18EC:  BRA    18F4
18EE:  BSF    43.0
18F0:  BRA    1AAC
18F2:  BCF    43.0
18F4:  BCF    41.0
18F6:  BSF    43.4
18F8:  CLRF   FEA
18FA:  MOVLW  3C
18FC:  MOVWF  FE9
18FE:  BRA    1AD2
1900:  BCF    43.4
1902:  BTFSC  42.7
1904:  BRA    191A
1906:  BTFSS  41.0
1908:  BRA    1930
190A:  RRCF   47,F
190C:  RRCF   46,F
190E:  RRCF   45,F
1910:  RRCF   44,F
1912:  INCF   00,F
1914:  BTFSC  FD8.2
1916:  BRA    1AA2
1918:  BRA    1930
191A:  BTFSC  47.7
191C:  BRA    1936
191E:  BCF    FD8.0
1920:  RLCF   44,F
1922:  RLCF   45,F
1924:  RLCF   46,F
1926:  RLCF   47,F
1928:  DECF   00,F
192A:  BTFSC  FD8.2
192C:  BRA    1AA2
192E:  BRA    191A
1930:  BSF    43.6
1932:  BRA    1A0A
1934:  BCF    43.6
1936:  MOVFF  3A,42
193A:  BTFSS  3A.7
193C:  BRA    1942
193E:  BSF    47.7
1940:  BRA    1A94
1942:  BCF    47.7
1944:  BRA    1A94
1946:  MOVFF  3D,41
194A:  MOVFF  3D,00
194E:  MOVF   39,W
1950:  SUBWF  41,F
1952:  MOVFF  3A,47
1956:  BSF    47.7
1958:  MOVFF  3B,46
195C:  MOVFF  3C,45
1960:  CLRF   44
1962:  BCF    FD8.0
1964:  RRCF   47,F
1966:  RRCF   46,F
1968:  RRCF   45,F
196A:  RRCF   44,F
196C:  DECFSZ 41,F
196E:  BRA    1960
1970:  BTFSS  42.7
1972:  BRA    197A
1974:  BSF    43.1
1976:  BRA    1AAC
1978:  BCF    43.1
197A:  BCF    41.0
197C:  BSF    43.5
197E:  CLRF   FEA
1980:  MOVLW  40
1982:  MOVWF  FE9
1984:  BRA    1AD2
1986:  BCF    43.5
1988:  BTFSC  42.7
198A:  BRA    19A0
198C:  BTFSS  41.0
198E:  BRA    19B6
1990:  RRCF   47,F
1992:  RRCF   46,F
1994:  RRCF   45,F
1996:  RRCF   44,F
1998:  INCF   00,F
199A:  BTFSC  FD8.2
199C:  BRA    1AA2
199E:  BRA    19B6
19A0:  BTFSC  47.7
19A2:  BRA    19BC
19A4:  BCF    FD8.0
19A6:  RLCF   44,F
19A8:  RLCF   45,F
19AA:  RLCF   46,F
19AC:  RLCF   47,F
19AE:  DECF   00,F
19B0:  BTFSC  FD8.2
19B2:  BRA    1AA2
19B4:  BRA    19A0
19B6:  BSF    43.7
19B8:  BRA    1A0A
19BA:  BCF    43.7
19BC:  MOVFF  3E,42
19C0:  BTFSS  3E.7
19C2:  BRA    19C8
19C4:  BSF    47.7
19C6:  BRA    1A94
19C8:  BCF    47.7
19CA:  BRA    1A94
19CC:  MOVFF  3E,47
19D0:  BSF    47.7
19D2:  MOVFF  3F,46
19D6:  MOVFF  40,45
19DA:  BTFSS  42.7
19DC:  BRA    19E6
19DE:  BCF    47.7
19E0:  BSF    43.2
19E2:  BRA    1AAC
19E4:  BCF    43.2
19E6:  CLRF   44
19E8:  BCF    41.0
19EA:  CLRF   FEA
19EC:  MOVLW  3C
19EE:  MOVWF  FE9
19F0:  BRA    1AD2
19F2:  BTFSC  42.7
19F4:  BRA    1A2E
19F6:  MOVFF  3A,42
19FA:  BTFSS  41.0
19FC:  BRA    1A0A
19FE:  RRCF   47,F
1A00:  RRCF   46,F
1A02:  RRCF   45,F
1A04:  RRCF   44,F
1A06:  INCF   00,F
1A08:  BZ    1AA2
1A0A:  BTFSS  44.7
1A0C:  BRA    1A24
1A0E:  INCF   45,F
1A10:  BNZ   1A24
1A12:  INCF   46,F
1A14:  BNZ   1A24
1A16:  INCF   47,F
1A18:  BNZ   1A24
1A1A:  RRCF   47,F
1A1C:  RRCF   46,F
1A1E:  RRCF   45,F
1A20:  INCF   00,F
1A22:  BZ    1AA2
1A24:  BTFSC  43.6
1A26:  BRA    1934
1A28:  BTFSC  43.7
1A2A:  BRA    19BA
1A2C:  BRA    1A66
1A2E:  MOVLW  80
1A30:  XORWF  47,F
1A32:  BTFSS  47.7
1A34:  BRA    1A3E
1A36:  BRA    1AAC
1A38:  MOVFF  3E,42
1A3C:  BRA    1A52
1A3E:  MOVFF  3A,42
1A42:  MOVF   47,F
1A44:  BNZ   1A52
1A46:  MOVF   46,F
1A48:  BNZ   1A52
1A4A:  MOVF   45,F
1A4C:  BNZ   1A52
1A4E:  CLRF   00
1A50:  BRA    1A94
1A52:  BTFSC  47.7
1A54:  BRA    1A66
1A56:  BCF    FD8.0
1A58:  RLCF   44,F
1A5A:  RLCF   45,F
1A5C:  RLCF   46,F
1A5E:  RLCF   47,F
1A60:  DECFSZ 00,F
1A62:  BRA    1A52
1A64:  BRA    1AA2
1A66:  BTFSS  42.7
1A68:  BRA    1A6E
1A6A:  BSF    47.7
1A6C:  BRA    1A94
1A6E:  BCF    47.7
1A70:  BRA    1A94
1A72:  MOVFF  3D,00
1A76:  MOVFF  3E,47
1A7A:  MOVFF  3F,46
1A7E:  MOVFF  40,45
1A82:  BRA    1A94
1A84:  MOVFF  39,00
1A88:  MOVFF  3A,47
1A8C:  MOVFF  3B,46
1A90:  MOVFF  3C,45
1A94:  MOVFF  47,01
1A98:  MOVFF  46,02
1A9C:  MOVFF  45,03
1AA0:  BRA    1B0A
1AA2:  CLRF   00
1AA4:  CLRF   01
1AA6:  CLRF   02
1AA8:  CLRF   03
1AAA:  BRA    1B0A
1AAC:  CLRF   44
1AAE:  COMF   45,F
1AB0:  COMF   46,F
1AB2:  COMF   47,F
1AB4:  COMF   44,F
1AB6:  INCF   44,F
1AB8:  BNZ   1AC4
1ABA:  INCF   45,F
1ABC:  BNZ   1AC4
1ABE:  INCF   46,F
1AC0:  BNZ   1AC4
1AC2:  INCF   47,F
1AC4:  BTFSC  43.0
1AC6:  BRA    18F2
1AC8:  BTFSC  43.1
1ACA:  BRA    1978
1ACC:  BTFSC  43.2
1ACE:  BRA    19E4
1AD0:  BRA    1A38
1AD2:  MOVF   FEF,W
1AD4:  ADDWF  45,F
1AD6:  BNC   1AE2
1AD8:  INCF   46,F
1ADA:  BNZ   1AE2
1ADC:  INCF   47,F
1ADE:  BTFSC  FD8.2
1AE0:  BSF    41.0
1AE2:  MOVF   FED,F
1AE4:  MOVF   FEF,W
1AE6:  ADDWF  46,F
1AE8:  BNC   1AF0
1AEA:  INCF   47,F
1AEC:  BTFSC  FD8.2
1AEE:  BSF    41.0
1AF0:  MOVF   FED,F
1AF2:  MOVF   FEF,W
1AF4:  BTFSC  FEF.7
1AF6:  BRA    1AFA
1AF8:  XORLW  80
1AFA:  ADDWF  47,F
1AFC:  BTFSC  FD8.0
1AFE:  BSF    41.0
1B00:  BTFSC  43.4
1B02:  BRA    1900
1B04:  BTFSC  43.5
1B06:  BRA    1986
1B08:  BRA    19F2
1B0A:  RETURN 0
1B0C:  MOVLW  8E
1B0E:  MOVWF  00
1B10:  MOVF   35,W
1B12:  SUBWF  00,F
1B14:  MOVFF  36,02
1B18:  MOVFF  37,01
1B1C:  BSF    02.7
1B1E:  MOVF   00,F
1B20:  BZ    1B34
1B22:  BCF    FD8.0
1B24:  MOVF   02,F
1B26:  BNZ   1B2C
1B28:  MOVF   01,F
1B2A:  BZ    1B34
1B2C:  RRCF   02,F
1B2E:  RRCF   01,F
1B30:  DECFSZ 00,F
1B32:  BRA    1B22
1B34:  BTFSS  36.7
1B36:  BRA    1B42
1B38:  COMF   01,F
1B3A:  COMF   02,F
1B3C:  INCF   01,F
1B3E:  BTFSC  FD8.2
1B40:  INCF   02,F
1B42:  RETURN 0
....................  
.................... #list 
....................  
.................... #device ADC=10 
....................  
.................... #FUSES NOWDT                    //No Watch Dog Timer 
.................... #FUSES WDT128                   //Watch Dog Timer uses 1:128 Postscale 
.................... #FUSES NOBROWNOUT               //No brownout reset 
.................... #FUSES NOLVP                    //No low voltage prgming, B3(PIC16) or B5(PIC18) used for I/O 
.................... #FUSES NOXINST                  //Extended set extension and Indexed Addressing mode disabled (Legacy mode) 
....................  
.................... #use delay(clock=48MHz,crystal=20MHz) 
*
10B4:  MOVLW  01
10B6:  SUBWF  56,F
10B8:  BNC   10D2
10BA:  CLRF   FEA
10BC:  MOVLW  56
10BE:  MOVWF  FE9
10C0:  MOVF   FEF,W
10C2:  BZ    10D2
10C4:  MOVLW  02
10C6:  MOVWF  00
10C8:  DECFSZ 00,F
10CA:  BRA    10C8
10CC:  BRA    10CE
10CE:  DECFSZ FEF,F
10D0:  BRA    10C4
10D2:  RETURN 0
*
1142:  CLRF   FEA
1144:  MOVLW  50
1146:  MOVWF  FE9
1148:  MOVF   FEF,W
114A:  BZ    1168
114C:  MOVLW  0F
114E:  MOVWF  01
1150:  CLRF   00
1152:  DECFSZ 00,F
1154:  BRA    1152
1156:  DECFSZ 01,F
1158:  BRA    1150
115A:  MOVLW  8F
115C:  MOVWF  00
115E:  DECFSZ 00,F
1160:  BRA    115E
1162:  NOP   
1164:  DECFSZ FEF,F
1166:  BRA    114C
1168:  RETURN 0
....................  
.................... // #build(reset=0x1000, interrupt=0x1008) 
.................... // #org 0x000, 0xfff { } 
....................  
.................... #include <Motor1.c> 
.................... #build(reset = 0x1000, interrupt = 0x1008) 
.................... #org 0x000, 0xfff {} 
....................  
.................... #define m1p1 pin_e2 
.................... #define m1p2 pin_c0 
.................... #define m2p1 pin_d0 
.................... #define m2p2 pin_d1 
....................  
.................... void tras() 
.................... { 
....................       output_bit(m1p1, 0); 
....................       output_bit(m1p2, 1); 
....................       output_bit(m2p1, 1); 
....................       output_bit(m2p2, 0); 
.................... } 
....................  
.................... void frente() 
.................... { 
....................       output_bit(m1p1, 1); 
*
1B94:  BSF    F8D.2
1B96:  BCF    F96.2
....................       output_bit(m1p2, 0); 
1B98:  BCF    F8B.0
1B9A:  BCF    F94.0
....................       output_bit(m2p1, 0); 
1B9C:  BCF    F8C.0
1B9E:  BCF    F95.0
....................       output_bit(m2p2, 1); 
1BA0:  BSF    F8C.1
1BA2:  BCF    F95.1
1BA4:  RETURN 0
.................... } 
....................  
.................... void gira_esquerda() 
.................... { 
....................       output_bit(m1p1, 1); 
....................       output_bit(m1p2, 0); 
....................       output_bit(m2p1, 1); 
....................       output_bit(m2p2, 0); 
.................... } 
....................  
.................... void gira_direita() 
.................... { 
....................       output_bit(m1p1, 0); 
....................       output_bit(m1p2, 1); 
....................       output_bit(m2p1, 0); 
....................       output_bit(m2p2, 1); 
.................... } 
....................  
.................... void esquerda_tras() 
.................... { 
....................       output_bit(m1p1, 0); 
....................       output_bit(m1p2, 1); 
....................       output_bit(m2p1, 0); 
....................       output_bit(m2p2, 0); 
.................... } 
....................  
.................... void direita_tras() 
.................... { 
....................       output_bit(m1p1, 0); 
....................       output_bit(m1p2, 0); 
....................       output_bit(m2p1, 1); 
....................       output_bit(m2p2, 0); 
.................... } 
....................  
.................... void direita_frente() 
.................... { 
....................       output_bit(m1p1, 0); 
....................       output_bit(m1p2, 0); 
....................       output_bit(m2p1, 0); 
....................       output_bit(m2p2, 1); 
.................... } 
....................  
.................... void esquerda_frente() 
.................... { 
....................       output_bit(m1p1, 1); 
....................       output_bit(m1p2, 0); 
....................       output_bit(m2p1, 0); 
....................       output_bit(m2p2, 0); 
.................... } 
....................  
.................... void para() 
.................... { 
....................       output_bit(m1p1, 0); 
....................       output_bit(m1p2, 0); 
....................       output_bit(m2p1, 0); 
....................       output_bit(m2p2, 0); 
.................... } 
....................  
.................... void AllForward() 
.................... { 
....................       output_bit(m1p1, 1); 
....................       output_bit(m1p2, 0); 
....................       output_bit(m2p1, 0); 
....................       output_bit(m2p2, 1); 
.................... } 
.................... void AllBackwards() 
.................... { 
....................       output_bit(m1p1, 0); 
....................       output_bit(m1p2, 1); 
....................       output_bit(m2p1, 1); 
....................       output_bit(m2p2, 0); 
.................... } 
....................  
.................... void LeftBackwardRightForward() 
.................... { 
....................       output_bit(m1p1, 1); 
*
178C:  BSF    F8D.2
178E:  BCF    F96.2
....................       output_bit(m1p2, 0); 
1790:  BCF    F8B.0
1792:  BCF    F94.0
....................       output_bit(m2p1, 1); 
1794:  BSF    F8C.0
1796:  BCF    F95.0
....................       output_bit(m2p2, 0); 
1798:  BCF    F8C.1
179A:  BCF    F95.1
179C:  RETURN 0
.................... } 
.................... void RightBackwardLeftForward() 
.................... { 
....................       output_bit(m1p1, 0); 
179E:  BCF    F8D.2
17A0:  BCF    F96.2
....................       output_bit(m1p2, 1); 
17A2:  BSF    F8B.0
17A4:  BCF    F94.0
....................       output_bit(m2p1, 0); 
17A6:  BCF    F8C.0
17A8:  BCF    F95.0
....................       output_bit(m2p2, 1); 
17AA:  BSF    F8C.1
17AC:  BCF    F95.1
17AE:  RETURN 0
.................... } 
....................  
.................... void MotorInitialize() 
.................... { 
....................       setup_timer_2(T2_DIV_BY_16, 255, 1); //341 us overflow, 341 us interrupt 
*
14BE:  MOVLW  00
14C0:  IORLW  06
14C2:  MOVWF  FCA
14C4:  MOVLW  FF
14C6:  MOVWF  FCB
....................  
....................       setup_ccp1(CCP_PWM | CCP_SHUTDOWN_AC_L | CCP_SHUTDOWN_BD_L); 
14C8:  BCF    F94.2
14CA:  BCF    F8B.2
14CC:  MOVLW  0C
14CE:  MOVWF  FBD
14D0:  CLRF   FB7
14D2:  CLRF   FB6
....................       setup_ccp2(CCP_PWM); 
14D4:  BCF    F94.1
14D6:  BCF    F8B.1
14D8:  MOVWF  FBA
14DA:  GOTO   1508 (RETURN)
.................... } 
....................  
.................... void SetBothPwm(int16 vel) 
.................... { 
....................       set_pwm1_duty((int16)vel); 
*
173E:  MOVFF  36,02
1742:  MOVFF  35,01
1746:  RRCF   02,F
1748:  RRCF   01,F
174A:  RRCF   02,F
174C:  RRCF   01,F
174E:  RRCF   02,F
1750:  MOVFF  01,FBE
1754:  RRCF   02,F
1756:  RRCF   02,W
1758:  ANDLW  30
175A:  MOVWF  00
175C:  MOVF   FBD,W
175E:  ANDLW  CF
1760:  IORWF  00,W
1762:  MOVWF  FBD
....................       set_pwm2_duty((int16)vel); //-50); 
1764:  MOVFF  36,02
1768:  MOVFF  35,01
176C:  RRCF   02,F
176E:  RRCF   01,F
1770:  RRCF   02,F
1772:  RRCF   01,F
1774:  RRCF   02,F
1776:  MOVFF  01,FBB
177A:  RRCF   02,F
177C:  RRCF   02,W
177E:  ANDLW  30
1780:  MOVWF  00
1782:  MOVF   FBA,W
1784:  ANDLW  CF
1786:  IORWF  00,W
1788:  MOVWF  FBA
178A:  RETURN 0
.................... } 
....................  
.................... void SetRight(int16 vel) 
.................... { 
....................       set_pwm1_duty((int16)vel); 
*
1B6C:  MOVFF  36,02
1B70:  MOVFF  35,01
1B74:  RRCF   02,F
1B76:  RRCF   01,F
1B78:  RRCF   02,F
1B7A:  RRCF   01,F
1B7C:  RRCF   02,F
1B7E:  MOVFF  01,FBE
1B82:  RRCF   02,F
1B84:  RRCF   02,W
1B86:  ANDLW  30
1B88:  MOVWF  00
1B8A:  MOVF   FBD,W
1B8C:  ANDLW  CF
1B8E:  IORWF  00,W
1B90:  MOVWF  FBD
1B92:  RETURN 0
.................... } 
.................... void SetLeft(int16 vel) 
.................... { 
....................       set_pwm2_duty((int16)vel); 
*
1B44:  MOVFF  36,02
1B48:  MOVFF  35,01
1B4C:  RRCF   02,F
1B4E:  RRCF   01,F
1B50:  RRCF   02,F
1B52:  RRCF   01,F
1B54:  RRCF   02,F
1B56:  MOVFF  01,FBB
1B5A:  RRCF   02,F
1B5C:  RRCF   02,W
1B5E:  ANDLW  30
1B60:  MOVWF  00
1B62:  MOVF   FBA,W
1B64:  ANDLW  CF
1B66:  IORWF  00,W
1B68:  MOVWF  FBA
1B6A:  RETURN 0
.................... } 
....................  
.................... #include <LCD_KIT.c> 
.................... /************************************************************************/ 
.................... /*  MOD_LCD.C - Biblioteca de manipula��o de m�dulo LCD                 */ 
.................... /*                                                                      */ 
.................... /*  Autor: F�bio Pereira                                                */ 
.................... /*                                                                      */ 
.................... /************************************************************************/ 
.................... /* 
.................... lcd_cursor_on()                        fun��es LCD 
.................... lcd_cursor_pisca() 
.................... lcd_cursor_off() 
.................... lcd_corre_esquerda() 
.................... lcd_corre_direita() 
.................... lcd_envia_nibble( byte dado ) 
.................... lcd_le_byte() 
.................... lcd_ini() 
.................... lcd_pos_xy( byte x, byte y) 
.................... lcd_escreve( char c)                  \f  Clear display                            //// 
....................                                             \n  Go to start of second line               //// 
....................                                   \b  Move back one position                   //// 
....................  
.................... lcd_le( byte x, byte y) 
.................... lcd_apaga() 
.................... { 
....................  
.................... */ 
.................... // As defini��es a seguir s�o utilizadas para acesso aos pinos do display 
.................... // caso o pino RW n�o seja utilizado, comente a defini��o lcd_rw 
.................... #ifndef lcd_enable 
....................    #define lcd_rs         pin_d2      // pino rs do LCD 
....................    #define lcd_enable     pin_d3      // pino enable do LCD 
....................    #define lcd_d4         pin_d4      // pino de dados d4 do LCD 
....................    #define lcd_d5         pin_d5      // pino de dados d5 do LCD 
....................    #define lcd_d6         pin_d6      // pino de dados d6 do LCD 
....................    #define lcd_d7         pin_d7   // pino de dados d7 do LCD 
.................... #endif 
....................  
.................... #define lcd_type 2           // 0=5x7, 1=5x10, 2=2 linhas 
.................... #define lcd_seg_lin 0x40    // Endere�o da segunda linha na RAM do LCD 
....................  
.................... // a constante abaixo define a seq��ncia de inicializa��o do m�dulo LCD 
.................... byte CONST INI_LCD[4] = {0x20 | (lcd_type << 2), 0xc, 1, 6}; 
....................  
.................... /*   O 0x20 eh p configurar o tipo do display e talz. 
....................    O Segundo numero configura o modo do cursor, sendo: 
....................                -> 0xf Cursor piscante 
....................                -> 0xe Cursor comum 
....................                -> 0xc Sem cursor 
....................    O terceiro (1) limpa o display 
....................    O Quarto volta com o cursor. 
.................... */ 
....................  
.................... byte lcd_le_byte() 
.................... // l� um byte do LCD (somente com pino RW) 
.................... { 
....................    byte dado; 
....................    // configura os pinos de dados como entradas 
....................    input(lcd_d4); 
....................    input(lcd_d5); 
....................    input(lcd_d6); 
....................    input(lcd_d7); 
....................    // se o pino rw for utilizado, coloca em 1 
....................    #ifdef lcd_rw 
....................       output_high(lcd_rw); 
....................    #endif 
....................    output_high(lcd_enable); // habilita display 
....................    dado = 0;   // zera a vari�vel de leitura 
....................    // l� os quatro bits mais significativos 
....................    if (input(lcd_d7)) bit_set(dado,7); 
....................    if (input(lcd_d6)) bit_set(dado,6); 
....................    if (input(lcd_d5)) bit_set(dado,5); 
....................    if (input(lcd_d4)) bit_set(dado,4); 
....................    // d� um pulso na linha enable 
....................    output_low(lcd_enable); 
....................    output_high(lcd_enable); 
....................    // l� os quatro bits menos significativos 
....................    if (input(lcd_d7)) bit_set(dado,3); 
....................    if (input(lcd_d6)) bit_set(dado,2); 
....................    if (input(lcd_d5)) bit_set(dado,1); 
....................    if (input(lcd_d4)) bit_set(dado,0); 
....................    output_low(lcd_enable);   // desabilita o display 
....................    return dado;   // retorna o byte lido 
.................... } 
....................  
.................... void lcd_envia_nibble( byte dado ) 
.................... // envia um dado de quatro bits para o display 
.................... { 
....................    // coloca os quatro bits nas saidas 
....................    output_bit(lcd_d4,bit_test(dado,0)); 
*
10D4:  BTFSC  57.0
10D6:  BRA    10DC
10D8:  BCF    F8C.4
10DA:  BRA    10DE
10DC:  BSF    F8C.4
10DE:  BCF    F95.4
....................    output_bit(lcd_d5,bit_test(dado,1)); 
10E0:  BTFSC  57.1
10E2:  BRA    10E8
10E4:  BCF    F8C.5
10E6:  BRA    10EA
10E8:  BSF    F8C.5
10EA:  BCF    F95.5
....................    output_bit(lcd_d6,bit_test(dado,2)); 
10EC:  BTFSC  57.2
10EE:  BRA    10F4
10F0:  BCF    F8C.6
10F2:  BRA    10F6
10F4:  BSF    F8C.6
10F6:  BCF    F95.6
....................    output_bit(lcd_d7,bit_test(dado,3)); 
10F8:  BTFSC  57.3
10FA:  BRA    1100
10FC:  BCF    F8C.7
10FE:  BRA    1102
1100:  BSF    F8C.7
1102:  BCF    F95.7
....................    // d� um pulso na linha enable 
....................    output_high(lcd_enable); 
1104:  BCF    F95.3
1106:  BSF    F8C.3
....................    output_low(lcd_enable); 
1108:  BCF    F95.3
110A:  BCF    F8C.3
110C:  RETURN 0
.................... } 
....................  
....................  
.................... void lcd_envia_byte( boolean endereco, byte dado ) 
.................... { 
....................    // coloca a linha rs em 0 
....................    output_low(lcd_rs); 
110E:  BCF    F95.2
1110:  BCF    F8C.2
....................    // aguarda o display ficar desocupado 
....................    //while ( bit_test(lcd_le_byte(),7) ) ; 
....................    // configura a linha rs dependendo do modo selecionado 
....................    output_bit(lcd_rs,endereco); 
1112:  MOVF   54,F
1114:  BNZ   111A
1116:  BCF    F8C.2
1118:  BRA    111C
111A:  BSF    F8C.2
111C:  BCF    F95.2
....................    delay_us(100);   // aguarda 100 us 
111E:  MOVLW  64
1120:  MOVWF  56
1122:  RCALL  10B4
....................    // caso a linha rw esteja definida, coloca em 0 
....................    #ifdef lcd_rw 
....................       output_low(lcd_rw); 
....................    #endif 
....................    // desativa linha enable 
....................    output_low(lcd_enable); 
1124:  BCF    F95.3
1126:  BCF    F8C.3
....................    // envia a primeira parte do byte 
....................    lcd_envia_nibble(dado >> 4); 
1128:  SWAPF  55,W
112A:  MOVWF  56
112C:  MOVLW  0F
112E:  ANDWF  56,F
1130:  MOVFF  56,57
1134:  RCALL  10D4
....................    // envia a segunda parte do byte 
....................    lcd_envia_nibble(dado & 0x0f); 
1136:  MOVF   55,W
1138:  ANDLW  0F
113A:  MOVWF  56
113C:  MOVWF  57
113E:  RCALL  10D4
1140:  RETURN 0
.................... } 
....................  
....................  
.................... void lcd_ini() 
.................... // rotina de inicializa��o do display 
.................... { 
....................    byte conta; 
....................    output_low(lcd_d4); 
*
141C:  BCF    F95.4
141E:  BCF    F8C.4
....................    output_low(lcd_d5); 
1420:  BCF    F95.5
1422:  BCF    F8C.5
....................    output_low(lcd_d6); 
1424:  BCF    F95.6
1426:  BCF    F8C.6
....................    output_low(lcd_d7); 
1428:  BCF    F95.7
142A:  BCF    F8C.7
....................    output_low(lcd_rs); 
142C:  BCF    F95.2
142E:  BCF    F8C.2
....................    #ifdef lcd_rw 
....................       output_high(lcd_rw); 
....................    #endif 
....................    output_low(lcd_enable); 
1430:  BCF    F95.3
1432:  BCF    F8C.3
1434:  CLRF   16
1436:  BTFSC  FF2.7
1438:  BSF    16.7
143A:  BCF    FF2.7
....................    delay_ms(15); 
143C:  MOVLW  0F
143E:  MOVWF  50
1440:  RCALL  1142
1442:  BTFSC  16.7
1444:  BSF    FF2.7
....................    // envia uma seq��ncia de 3 vezes 0x03 
....................    // e depois 0x02 para configurar o m�dulo 
....................    // para modo de 4 bits 
....................    for(conta=1;conta<=3;++conta) 
1446:  MOVLW  01
1448:  MOVWF  29
144A:  MOVF   29,W
144C:  SUBLW  03
144E:  BNC   1478
1450:  CLRF   16
1452:  BTFSC  FF2.7
1454:  BSF    16.7
1456:  BCF    FF2.7
....................    { 
....................       lcd_envia_nibble(3); 
1458:  MOVLW  03
145A:  MOVWF  57
145C:  RCALL  10D4
145E:  BTFSC  16.7
1460:  BSF    FF2.7
1462:  CLRF   16
1464:  BTFSC  FF2.7
1466:  BSF    16.7
1468:  BCF    FF2.7
....................       delay_ms(5); 
146A:  MOVLW  05
146C:  MOVWF  50
146E:  RCALL  1142
1470:  BTFSC  16.7
1472:  BSF    FF2.7
1474:  INCF   29,F
1476:  BRA    144A
1478:  CLRF   16
147A:  BTFSC  FF2.7
147C:  BSF    16.7
147E:  BCF    FF2.7
....................    } 
....................    lcd_envia_nibble(2); 
1480:  MOVLW  02
1482:  MOVWF  57
1484:  RCALL  10D4
1486:  BTFSC  16.7
1488:  BSF    FF2.7
....................    // envia string de inicializa��o do display 
....................    for(conta=0;conta<=3;++conta) lcd_envia_byte(0,INI_LCD[conta]); 
148A:  CLRF   29
148C:  MOVF   29,W
148E:  SUBLW  03
1490:  BNC   14BA
1492:  CLRF   03
1494:  MOVF   29,W
1496:  MOVFF  FF2,2A
149A:  BCF    FF2.7
149C:  RCALL  1096
149E:  BTFSC  2A.7
14A0:  BSF    FF2.7
14A2:  MOVWF  2A
14A4:  CLRF   16
14A6:  BTFSC  FF2.7
14A8:  BSF    16.7
14AA:  BCF    FF2.7
14AC:  CLRF   54
14AE:  MOVWF  55
14B0:  RCALL  110E
14B2:  BTFSC  16.7
14B4:  BSF    FF2.7
14B6:  INCF   29,F
14B8:  BRA    148C
14BA:  GOTO   1506 (RETURN)
.................... } 
....................  
.................... void lcd_pos_xy( byte x, byte y) 
.................... { 
....................    byte endereco; 
....................    if(y!=1) 
*
116A:  DECFSZ 51,W
116C:  BRA    1170
116E:  BRA    1176
....................       endereco = lcd_seg_lin; 
1170:  MOVLW  40
1172:  MOVWF  52
1174:  BRA    1178
....................    else 
....................       endereco = 0; 
1176:  CLRF   52
....................    endereco += x-1; 
1178:  MOVLW  01
117A:  SUBWF  50,W
117C:  ADDWF  52,F
....................    lcd_envia_byte(0,0x80|endereco); 
117E:  MOVF   52,W
1180:  IORLW  80
1182:  MOVWF  53
1184:  CLRF   54
1186:  MOVWF  55
1188:  RCALL  110E
118A:  RETURN 0
.................... } 
....................  
.................... void lcd_escreve( char c) 
.................... // envia caractere para o display 
.................... { 
....................    switch (c) 
118C:  MOVF   4F,W
118E:  XORLW  0C
1190:  BZ    11A0
1192:  XORLW  06
1194:  BZ    11B0
1196:  XORLW  07
1198:  BZ    11B0
119A:  XORLW  05
119C:  BZ    11BC
119E:  BRA    11C6
....................    { 
....................      case '\f'    :   lcd_envia_byte(0,1); 
11A0:  CLRF   54
11A2:  MOVLW  01
11A4:  MOVWF  55
11A6:  RCALL  110E
....................               delay_ms(2); 
11A8:  MOVLW  02
11AA:  MOVWF  50
11AC:  RCALL  1142
....................             break; 
11AE:  BRA    11D0
....................      case '\n'   : 
....................      case '\r'    :   lcd_pos_xy(1,2); 
11B0:  MOVLW  01
11B2:  MOVWF  50
11B4:  MOVLW  02
11B6:  MOVWF  51
11B8:  RCALL  116A
....................               break; 
11BA:  BRA    11D0
....................      case '\b'    :   lcd_envia_byte(0,0x10); 
11BC:  CLRF   54
11BE:  MOVLW  10
11C0:  MOVWF  55
11C2:  RCALL  110E
....................               break; 
11C4:  BRA    11D0
....................      default   :   lcd_envia_byte(1,c); 
11C6:  MOVLW  01
11C8:  MOVWF  54
11CA:  MOVFF  4F,55
11CE:  RCALL  110E
....................               break; 
....................    } 
11D0:  RETURN 0
.................... } 
....................  
.................... char lcd_le( byte x, byte y) 
.................... // le caractere do display 
.................... { 
....................    char valor; 
....................    // seleciona a posi��o do caractere 
....................    lcd_pos_xy(x,y); 
....................    // ativa rs 
....................    output_high(lcd_rs); 
....................    // l� o caractere 
....................    valor = lcd_le_byte(); 
....................    // desativa rs 
....................    output_low(lcd_rs); 
....................    // retorna o valor do caractere 
....................    return valor; 
.................... } 
....................  
.................... void lcd_apaga() 
.................... { 
....................    lcd_envia_byte(0,1); 
....................    delay_ms(2); 
.................... } 
....................  
.................... void lcd_cursor_on() 
....................     { 
.................... lcd_envia_byte(0,0x0E); 
....................     } 
....................  
.................... void lcd_cursor_pisca() 
....................     { 
.................... lcd_envia_byte(0,0x0F); 
....................     } 
....................  
.................... void lcd_cursor_off() 
....................     { 
....................  lcd_envia_byte(0,0x0C); 
....................     } 
....................  
.................... void lcd_corre_esquerda() 
....................     { 
....................  lcd_envia_byte(0,0x18); 
....................     } 
....................  
.................... void lcd_corre_direita() 
....................     { 
.................... lcd_envia_byte(0,0x1C); 
....................     } 
....................  
....................  
....................  
.................... #define button1 pin_a4 
.................... #define button2 pin_a5 
.................... #define button3 pin_e0 
.................... #define button4 pin_e1 
....................  
.................... int running; 
....................  
.................... //extremo esquerda, centro esquerda, centro direita, extrema direita 
.................... int16 ad1, ad2, ad3, ad4; 
.................... int16 timerBase = 1; 
.................... int8 adCounter; 
....................  
.................... ///Em qual decisão ele ta 
.................... int8 decisionCounter = 0; 
.................... ///Isso aqui serve para ele so contabilizar as tomadas de decisão a cadada 200ms (no timerBase) 
.................... int8 decisionInCoolDown = 0; 
....................  
.................... //Quantos porcento pra um lado ele pode estar antes de ser considerado desalinhado 
.................... float alignRatio = 0.7f; 
....................  
.................... void ClearScreen(); 
.................... void Setup(); 
.................... void AndarReto(); 
.................... ///Se tiver retorna 1 
.................... int8 IsCenterAlign(); 
.................... int8 IsCenterAndNotMargins(); 
.................... int8 IsCenterInside(); 
.................... int8 IsMarginsInside(); 
.................... int8 IsMarginsOutside(); 
.................... int8 IsAllOutside(); 
.................... ///Curva a direita 
.................... int8 IsRight(); 
.................... int8 IsLeft(); 
.................... int8 IsAllAlign(); 
.................... ///uma linha preta sobre todos 
.................... void Align(); 
.................... void InvertedAlign(); 
....................  
.................... #int_timer0 
.................... void timerTick() 
.................... { 
....................     if (adCounter == 0) 
*
12CC:  MOVF   22,F
12CE:  BNZ   12E0
....................     { 
....................         ad1 = read_adc(); 
12D0:  BSF    FC2.1
12D2:  BTFSC  FC2.1
12D4:  BRA    12D2
12D6:  MOVFF  FC3,18
12DA:  MOVFF  FC4,19
....................     } 
12DE:  BRA    131E
....................     else if (adCounter == 1) 
12E0:  DECFSZ 22,W
12E2:  BRA    12F4
....................     { 
....................         ad2 = read_adc(); 
12E4:  BSF    FC2.1
12E6:  BTFSC  FC2.1
12E8:  BRA    12E6
12EA:  MOVFF  FC3,1A
12EE:  MOVFF  FC4,1B
....................     } 
12F2:  BRA    131E
....................     else if (adCounter == 2) 
12F4:  MOVF   22,W
12F6:  SUBLW  02
12F8:  BNZ   130A
....................     { 
....................         ad3 = read_adc(); 
12FA:  BSF    FC2.1
12FC:  BTFSC  FC2.1
12FE:  BRA    12FC
1300:  MOVFF  FC3,1C
1304:  MOVFF  FC4,1D
....................     } 
1308:  BRA    131E
....................     else if (adCounter == 3) 
130A:  MOVF   22,W
130C:  SUBLW  03
130E:  BNZ   131E
....................     { 
....................         ad4 = read_adc(); 
1310:  BSF    FC2.1
1312:  BTFSC  FC2.1
1314:  BRA    1312
1316:  MOVFF  FC3,1E
131A:  MOVFF  FC4,1F
....................     } 
....................     if (timerBase == 2000) 
131E:  MOVF   20,W
1320:  SUBLW  D0
1322:  BNZ   136E
1324:  MOVF   21,W
1326:  SUBLW  07
1328:  BNZ   136E
....................     { 
....................         timerBase = 0; 
132A:  CLRF   21
132C:  CLRF   20
....................         ClearScreen(); 
132E:  BRA    11D2
....................         lcd_pos_xy(1, 1); 
1330:  MOVLW  01
1332:  MOVWF  50
1334:  MOVWF  51
1336:  RCALL  116A
....................         // printf(lcd_escreve, "1: "); 
....................         // printf(lcd_escreve, "%04ld", ad1); 
....................         // printf(lcd_escreve, " 2: "); 
....................         // printf(lcd_escreve, "%04ld", ad2); 
....................         // lcd_pos_xy(1, 2); 
....................         // printf(lcd_escreve, "3: "); 
....................         // printf(lcd_escreve, "%04ld", ad3); 
....................         // printf(lcd_escreve, " 4: "); 
....................         // printf(lcd_escreve, "%04ld", ad3); 
....................         printf(lcd_escreve, " d: %d", decisionCounter); 
1338:  MOVLW  96
133A:  MOVWF  FF6
133C:  MOVLW  13
133E:  MOVWF  FF7
1340:  MOVLW  04
1342:  MOVWF  49
1344:  RCALL  11DC
1346:  MOVFF  23,49
134A:  MOVLW  18
134C:  MOVWF  4A
134E:  RCALL  1222
....................         printf(lcd_escreve, " c: %d", decisionInCoolDown); 
1350:  MOVLW  9E
1352:  MOVWF  FF6
1354:  MOVLW  13
1356:  MOVWF  FF7
1358:  MOVLW  04
135A:  MOVWF  49
135C:  RCALL  11DC
135E:  MOVFF  24,49
1362:  MOVLW  18
1364:  MOVWF  4A
1366:  RCALL  1222
....................  
....................         if (decisionInCoolDown > 0) 
1368:  MOVF   24,F
136A:  BZ    136E
....................         { 
....................             decisionInCoolDown--; 
136C:  DECF   24,F
....................         } 
....................     } 
....................     timerBase++; 
136E:  INCF   20,F
1370:  BTFSC  FD8.2
1372:  INCF   21,F
....................     adCounter++; 
1374:  INCF   22,F
....................  
....................     if (adCounter > 4) 
1376:  MOVF   22,W
1378:  SUBLW  04
137A:  BC    137E
....................     { 
....................         adCounter = 0; 
137C:  CLRF   22
....................     } 
....................  
....................     set_adc_channel(adCounter); 
137E:  RLCF   22,W
1380:  MOVWF  00
1382:  RLCF   00,F
1384:  MOVLW  FC
1386:  ANDWF  00,F
1388:  MOVF   FC2,W
138A:  ANDLW  C3
138C:  IORWF  00,W
138E:  MOVWF  FC2
1390:  BCF    FF2.2
1392:  GOTO   1054
.................... } 
....................  
.................... void main() 
*
2280:  CLRF   FF8
2282:  BCF    FD0.7
2284:  BSF    07.7
2286:  CLRF   21
2288:  MOVLW  01
228A:  MOVWF  20
228C:  CLRF   23
228E:  CLRF   24
2290:  MOVLW  33
2292:  MOVWF  28
2294:  MOVWF  27
2296:  MOVWF  26
2298:  MOVLW  7E
229A:  MOVWF  25
229C:  MOVF   FC1,W
229E:  ANDLW  C0
22A0:  IORLW  0F
22A2:  MOVWF  FC1
22A4:  MOVLW  07
22A6:  MOVWF  FB4
.................... { 
....................     Setup(); 
22A8:  GOTO   14DE
22AC:  CLRF   16
22AE:  BTFSC  FF2.7
22B0:  BSF    16.7
22B2:  BCF    FF2.7
....................     lcd_pos_xy(1, 1); 
22B4:  MOVLW  01
22B6:  MOVWF  50
22B8:  MOVWF  51
22BA:  CALL   116A
22BE:  BTFSC  16.7
22C0:  BSF    FF2.7
22C2:  CLRF   16
22C4:  BTFSC  FF2.7
22C6:  BSF    16.7
22C8:  BCF    FF2.7
....................     delay_ms(5); 
22CA:  MOVLW  05
22CC:  MOVWF  50
22CE:  CALL   1142
22D2:  BTFSC  16.7
22D4:  BSF    FF2.7
....................     printf(lcd_escreve, " Inicializando"); 
22D6:  MOVLW  A6
22D8:  MOVWF  FF6
22DA:  MOVLW  13
22DC:  MOVWF  FF7
22DE:  CALL   150C
....................     delay_ms(1000); 
22E2:  MOVLW  04
22E4:  MOVWF  29
22E6:  CLRF   16
22E8:  BTFSC  FF2.7
22EA:  BSF    16.7
22EC:  BCF    FF2.7
22EE:  MOVLW  FA
22F0:  MOVWF  50
22F2:  CALL   1142
22F6:  BTFSC  16.7
22F8:  BSF    FF2.7
22FA:  DECFSZ 29,F
22FC:  BRA    22E6
....................     do 
....................     { 
....................         if (input(button1) == 0) 
22FE:  BSF    F92.4
2300:  BTFSC  F80.4
2302:  BRA    2308
....................         { 
....................             running = 1; 
2304:  MOVLW  01
2306:  MOVWF  17
....................         } 
....................         if (input(button2) == 0) 
2308:  BSF    F92.5
230A:  BTFSC  F80.5
230C:  BRA    2312
....................         { 
....................             running = 0; 
230E:  CLRF   17
....................         } 
2310:  BRA    2522
....................         // if (decisionCounter == 0) 
....................         // { 
....................         //     ///Esperar até ser colocado na linha de partida 
....................         //     if (IsAllAlign()) 
....................         //     { 
....................         //         lcd_pos_xy(1, 2); 
....................         //         printf(lcd_escreve, "TA NA POSICAO"); 
....................         //         if (running) 
....................         //         { 
....................         //             decisionCounter++; 
....................         //             decisionInCoolDown = 5; 
....................         //         } 
....................         //     } 
....................         //     else 
....................         //     { 
....................         //         if (running) 
....................         //         { 
....................         //             Align(); 
....................         //         } 
....................         //     } 
....................         // } 
....................         // else if (decisionCounter == 1 && running) 
....................         // { 
....................         //     ///Se alinha ate achar a curva a direita 
....................         //     Align(); 
....................         //     if (IsRight() && !decisionInCoolDown) 
....................         //     { 
....................         //         ///Começa a fazer a curva a direita girando um pouco para a direita e dando uma ré 
....................         //         SetLeft(900); 
....................         //         SetRight(950); 
....................         //         RightBackwardLeftForward(); 
....................         //         delay_ms(400); 
....................         //         decisionCounter++; 
....................         //         decisionInCoolDown = 5; 
....................         //     } 
....................         // } 
....................         // else if (decisionCounter == 2 && running) 
....................         // { 
....................         //     if (IsCenterAlign() && !decisionInCoolDown) 
....................         //     { 
....................         //         decisionCounter++; 
....................         //         decisionInCoolDown = 5; 
....................         //     } 
....................         //     else 
....................         //     { 
....................         //         ///Continua Girando do jeito que estava ate ficar com os 2 sensores no centro 
....................         //     } 
....................         // } 
....................         // else if (decisionCounter == 3) 
....................         // { 
....................         //     ///Anda alinhado até achar a linha preta 
....................         //     Align(); 
....................         //     if (IsAllAlign() && !decisionInCoolDown) 
....................         //     { 
....................         //         SetLeft(900); 
....................         //         SetRight(950); 
....................         //         RightBackwardLeftForward(); 
....................         //         delay_ms(500); 
....................         //         decisionCounter++; 
....................         //         decisionInCoolDown = 25; 
....................         //     } 
....................         // } 
....................         // else if (decisionCounter == 4) 
....................         // { 
....................         //     ///Primeira linha de parada 
....................         //     Align(); 
....................         //     if (IsAllAlign() && !decisionInCoolDown) 
....................         //     { 
....................         //         decisionCounter++; 
....................         //         decisionInCoolDown = 10; 
....................         //     } 
....................         // } 
....................         // else if (decisionCounter == 5) 
....................         // { 
....................         //     ///Logo após passar a primeira linha de parada, anda alinhado até o decisioninCoolDown e para 
....................         //     Align(); 
....................         //     if (!decisionInCoolDown) 
....................         //     { 
....................         //         SetBothPwm(0); 
....................         //         delay_ms(2000); 
....................         //         SetBothPwm(920); 
....................         //         decisionCounter++; 
....................         //     } 
....................         // } 
....................         // else if (decisionCounter == 6) 
....................         // { 
....................         //     ///Logo após sair da parada, anda alinhado até achar a proxima linha completa 
....................         //     Align(); 
....................         //     if (IsAllAlign() && !decisionInCoolDown) 
....................         //     { 
....................         //         decisionCounter++; 
....................         //         decisionInCoolDown = 5; 
....................         //     } 
....................         // } 
....................  
....................         //Era 7 
....................         else if (decisionCounter == 0) 
2312:  MOVF   23,F
2314:  BNZ   2328
....................         { 
....................             ///Passou pela linha completa do desafio de parar anda alinhado até a linha da esquerda do desafio de andar invertido 
....................             Align(); 
2316:  RCALL  1BA6
....................             if (IsLeft() && !decisionInCoolDown) 
2318:  RCALL  1E24
231A:  MOVF   01,F
231C:  BZ    2326
231E:  MOVF   24,F
2320:  BNZ   2326
....................             { 
....................                 decisionCounter++; 
2322:  INCF   23,F
....................                 decisionInCoolDown = 0; 
2324:  CLRF   24
....................             } 
....................         } 
2326:  BRA    2522
....................         else if (decisionCounter == 1) 
2328:  DECFSZ 23,W
232A:  BRA    2340
....................         { 
....................             ///Anda alinhado até chegar no desafio da linha invertida, a linha invertida começa quando o centro esta fora e as extremidades dentro 
....................  
....................             Align(); 
232C:  RCALL  1BA6
....................             if (IsMarginsInside() && !decisionInCoolDown) 
232E:  BRA    1E70
2330:  MOVF   01,F
2332:  BZ    233E
2334:  MOVF   24,F
2336:  BNZ   233E
....................             { 
....................                 ///Iniciou o desafio de linha invertido 
....................                 decisionCounter++; 
2338:  INCF   23,F
....................                 decisionInCoolDown = 1; 
233A:  MOVLW  01
233C:  MOVWF  24
....................             } 
....................         } 
233E:  BRA    2522
....................         else if (decisionCounter == 2) 
2340:  MOVF   23,W
2342:  SUBLW  02
2344:  BNZ   235A
....................         { 
....................             ///Desafio da linha invertida 
....................             InvertedAlign(); 
2346:  BRA    1EA0
....................             ///Anda ate não ter linha nas extremidades 
....................             if (IsMarginsOutside() && !decisionInCoolDown) 
2348:  BRA    2140
234A:  MOVF   01,F
234C:  BZ    2358
234E:  MOVF   24,F
2350:  BNZ   2358
....................             { 
....................                 decisionCounter++; 
2352:  INCF   23,F
....................                 decisionInCoolDown = 2; 
2354:  MOVLW  02
2356:  MOVWF  24
....................             } 
....................         } 
2358:  BRA    2522
....................         else if (decisionCounter == 3) 
235A:  MOVF   23,W
235C:  SUBLW  03
235E:  BNZ   2374
....................         { 
....................             Align(); 
2360:  RCALL  1BA6
....................             if (IsLeft() && !decisionInCoolDown) 
2362:  RCALL  1E24
2364:  MOVF   01,F
2366:  BZ    2372
2368:  MOVF   24,F
236A:  BNZ   2372
....................             { 
....................                 decisionCounter++; 
236C:  INCF   23,F
....................                 decisionInCoolDown = 5; 
236E:  MOVLW  05
2370:  MOVWF  24
....................             } 
....................         } 
2372:  BRA    2522
....................         else if (decisionCounter == 4) 
2374:  MOVF   23,W
2376:  SUBLW  04
2378:  BNZ   23C6
....................         { 
....................             Align(); 
237A:  RCALL  1BA6
....................             if (IsLeft() && !decisionInCoolDown) 
237C:  RCALL  1E24
237E:  MOVF   01,F
2380:  BZ    23C4
2382:  MOVF   24,F
2384:  BNZ   23C4
....................             { 
....................                 SetLeft(950); 
2386:  MOVLW  03
2388:  MOVWF  36
238A:  MOVLW  B6
238C:  MOVWF  35
238E:  CALL   1B44
....................                 SetRight(900); 
2392:  MOVLW  03
2394:  MOVWF  36
2396:  MOVLW  84
2398:  MOVWF  35
239A:  CALL   1B6C
....................                 LeftBackwardRightForward(); 
239E:  CALL   178C
....................                 delay_ms(500); 
23A2:  MOVLW  02
23A4:  MOVWF  29
23A6:  CLRF   16
23A8:  BTFSC  FF2.7
23AA:  BSF    16.7
23AC:  BCF    FF2.7
23AE:  MOVLW  FA
23B0:  MOVWF  50
23B2:  CALL   1142
23B6:  BTFSC  16.7
23B8:  BSF    FF2.7
23BA:  DECFSZ 29,F
23BC:  BRA    23A6
....................                 decisionCounter++; 
23BE:  INCF   23,F
....................                 decisionInCoolDown = 8; 
23C0:  MOVLW  08
23C2:  MOVWF  24
....................             } 
....................         } 
23C4:  BRA    2522
....................         else if (decisionCounter == 5) 
23C6:  MOVF   23,W
23C8:  SUBLW  05
23CA:  BNZ   23E2
....................         { 
....................  
....................             Align(); 
23CC:  CALL   1BA6
....................             if (IsLeft() && !decisionInCoolDown) 
23D0:  RCALL  1E24
23D2:  MOVF   01,F
23D4:  BZ    23E0
23D6:  MOVF   24,F
23D8:  BNZ   23E0
....................             { 
....................                 decisionCounter++; 
23DA:  INCF   23,F
....................                 decisionInCoolDown = 5; 
23DC:  MOVLW  05
23DE:  MOVWF  24
....................             } 
....................         } 
23E0:  BRA    2522
....................         else if (decisionCounter == 6) 
23E2:  MOVF   23,W
23E4:  SUBLW  06
23E6:  BNZ   23FE
....................         { 
....................             ///Desafio de andar cego 
....................             ///!!!!!!!!!!   AQUI ELE TERIA QUE ESTAR MUITO BEM ALINHADO, SERIA BOM TER A FUNÇÃO DE ALINHAR E COLOCAR PARA ALINHAR BEM AQUI 
....................             Align(); 
23E8:  CALL   1BA6
....................             if (IsAllOutside() && !decisionInCoolDown) 
23EC:  BRA    216C
23EE:  MOVF   01,F
23F0:  BZ    23FC
23F2:  MOVF   24,F
23F4:  BNZ   23FC
....................             { 
....................                 decisionCounter++; 
23F6:  INCF   23,F
....................                 decisionInCoolDown = 5; 
23F8:  MOVLW  05
23FA:  MOVWF  24
....................             } 
....................         } 
23FC:  BRA    2522
....................         else if (decisionCounter == 7) 
23FE:  MOVF   23,W
2400:  SUBLW  07
2402:  BNZ   2426
....................         { 
....................             ///ESTA NO DESAFIO DE ANDAR SEM LINHA 
....................             SetBothPwm(870); 
2404:  MOVLW  03
2406:  MOVWF  36
2408:  MOVLW  66
240A:  MOVWF  35
240C:  CALL   173E
....................             if (IsCenterInside() && !decisionInCoolDown) 
2410:  BRA    21B4
2412:  MOVF   01,F
2414:  BZ    2424
2416:  MOVF   24,F
2418:  BNZ   2424
....................             { 
....................                 Align(); 
241A:  CALL   1BA6
....................                 decisionCounter++; 
241E:  INCF   23,F
....................                 decisionInCoolDown = 5; 
2420:  MOVLW  05
2422:  MOVWF  24
....................             } 
....................         } 
2424:  BRA    2522
....................         else if (decisionCounter == 8) 
2426:  MOVF   23,W
2428:  SUBLW  08
242A:  BNZ   2442
....................         { 
....................             ///Passou pelo desafio de andar sem linha 
....................             Align(); 
242C:  CALL   1BA6
....................             if (IsLeft() && !decisionInCoolDown) 
2430:  RCALL  1E24
2432:  MOVF   01,F
2434:  BZ    2440
2436:  MOVF   24,F
2438:  BNZ   2440
....................             { 
....................                 decisionCounter++; 
243A:  INCF   23,F
....................                 decisionInCoolDown = 2; 
243C:  MOVLW  02
243E:  MOVWF  24
....................             } 
....................         } 
2440:  BRA    2522
....................         else if (decisionCounter == 9) 
2442:  MOVF   23,W
2444:  SUBLW  09
2446:  BNZ   245E
....................         { 
....................             Align(); 
2448:  CALL   1BA6
....................             if (IsRight() && !decisionInCoolDown) 
244C:  RCALL  21E4
244E:  MOVF   01,F
2450:  BZ    245C
2452:  MOVF   24,F
2454:  BNZ   245C
....................             { 
....................                 decisionCounter++; 
2456:  INCF   23,F
....................                 decisionInCoolDown = 2; 
2458:  MOVLW  02
245A:  MOVWF  24
....................             } 
....................         } 
245C:  BRA    2522
....................         else if (decisionCounter == 10) 
245E:  MOVF   23,W
2460:  SUBLW  0A
2462:  BNZ   247A
....................         { 
....................             Align(); 
2464:  CALL   1BA6
....................             if (IsRight() && !decisionInCoolDown) 
2468:  RCALL  21E4
246A:  MOVF   01,F
246C:  BZ    2478
246E:  MOVF   24,F
2470:  BNZ   2478
....................             { 
....................                 decisionCounter++; 
2472:  INCF   23,F
....................                 decisionInCoolDown = 2; 
2474:  MOVLW  02
2476:  MOVWF  24
....................             } 
....................         } 
2478:  BRA    2522
....................         else if (decisionCounter == 11) 
247A:  MOVF   23,W
247C:  SUBLW  0B
247E:  BNZ   24CE
....................         { 
....................             Align(); 
2480:  CALL   1BA6
....................             if (IsLeft() && !decisionInCoolDown) 
2484:  RCALL  1E24
2486:  MOVF   01,F
2488:  BZ    24CC
248A:  MOVF   24,F
248C:  BNZ   24CC
....................             { 
....................                 SetLeft(950); 
248E:  MOVLW  03
2490:  MOVWF  36
2492:  MOVLW  B6
2494:  MOVWF  35
2496:  CALL   1B44
....................                 SetRight(900); 
249A:  MOVLW  03
249C:  MOVWF  36
249E:  MOVLW  84
24A0:  MOVWF  35
24A2:  CALL   1B6C
....................                 LeftBackwardRightForward(); 
24A6:  CALL   178C
....................                 delay_ms(500); 
24AA:  MOVLW  02
24AC:  MOVWF  29
24AE:  CLRF   16
24B0:  BTFSC  FF2.7
24B2:  BSF    16.7
24B4:  BCF    FF2.7
24B6:  MOVLW  FA
24B8:  MOVWF  50
24BA:  CALL   1142
24BE:  BTFSC  16.7
24C0:  BSF    FF2.7
24C2:  DECFSZ 29,F
24C4:  BRA    24AE
....................                 decisionCounter++; 
24C6:  INCF   23,F
....................                 decisionInCoolDown = 7; 
24C8:  MOVLW  07
24CA:  MOVWF  24
....................             } 
....................         } 
24CC:  BRA    2522
....................         else if (decisionCounter == 12) 
24CE:  MOVF   23,W
24D0:  SUBLW  0C
24D2:  BNZ   24E8
....................         { 
....................             Align(); 
24D4:  CALL   1BA6
....................             if (IsAllAlign() && !decisionInCoolDown) 
24D8:  BRA    2230
24DA:  MOVF   01,F
24DC:  BZ    24E6
24DE:  MOVF   24,F
24E0:  BNZ   24E6
....................             { 
....................                 decisionCounter++; 
24E2:  INCF   23,F
....................                 decisionInCoolDown = 0; 
24E4:  CLRF   24
....................             } 
....................         } 
24E6:  BRA    2522
....................  
....................         else if (decisionCounter == 13) 
24E8:  MOVF   23,W
24EA:  SUBLW  0D
24EC:  BNZ   251A
....................         { 
....................             ///TODO: desvia do desafio de remover o bloco 
....................             SetBothPwm(0); 
24EE:  CLRF   36
24F0:  CLRF   35
24F2:  CALL   173E
24F6:  CLRF   16
24F8:  BTFSC  FF2.7
24FA:  BSF    16.7
24FC:  BCF    FF2.7
....................             lcd_pos_xy(1, 1); 
24FE:  MOVLW  01
2500:  MOVWF  50
2502:  MOVWF  51
2504:  CALL   116A
2508:  BTFSC  16.7
250A:  BSF    FF2.7
....................             printf(lcd_escreve, "Fim do programado"); 
250C:  MOVLW  B6
250E:  MOVWF  FF6
2510:  MOVLW  13
2512:  MOVWF  FF7
2514:  CALL   150C
....................         } 
2518:  BRA    2522
....................  
....................         else 
....................         { 
....................             ///Se ja passou por todas as decisões 
....................             SetBothPwm(0); 
251A:  CLRF   36
251C:  CLRF   35
251E:  CALL   173E
....................         } 
....................  
....................         if (running == 0) 
2522:  MOVF   17,F
2524:  BNZ   2536
....................         { 
....................             SetBothPwm(0); 
2526:  CLRF   36
2528:  CLRF   35
252A:  CALL   173E
....................             SetBothPwm(0); 
252E:  CLRF   36
2530:  CLRF   35
2532:  CALL   173E
....................         } 
....................     } while (1); 
2536:  BRA    22FE
.................... } 
.................... int8 IsCenterAlign() 
2538:  SLEEP 
.................... { 
....................     float ad2Ratio = (float)ad2 / (float)(ad1 + ad2); 
....................     float ad3Ratio = (float)ad3 / (float)(ad1 + ad2); 
....................     if (ad2 + ad3 > 300 && ad2Ratio < alignRatio && ad3Ratio < alignRatio) 
....................     { 
....................         return 1; 
....................     } 
....................     else 
....................     { 
....................         return 0; 
....................     } 
.................... } 
.................... int8 IsRight() 
.................... { 
....................     if (ad1 < 300 && ad2 >= 300 && ad3 >= 300 && ad4 >= 300) 
*
21E4:  MOVF   19,W
21E6:  SUBLW  01
21E8:  BNC   222A
21EA:  BNZ   21F2
21EC:  MOVF   18,W
21EE:  SUBLW  2B
21F0:  BNC   222A
21F2:  MOVF   1B,W
21F4:  SUBLW  00
21F6:  BC    222A
21F8:  XORLW  FF
21FA:  BNZ   2202
21FC:  MOVF   1A,W
21FE:  SUBLW  2B
2200:  BC    222A
2202:  MOVF   1D,W
2204:  SUBLW  00
2206:  BC    222A
2208:  XORLW  FF
220A:  BNZ   2212
220C:  MOVF   1C,W
220E:  SUBLW  2B
2210:  BC    222A
2212:  MOVF   1F,W
2214:  SUBLW  00
2216:  BC    222A
2218:  XORLW  FF
221A:  BNZ   2222
221C:  MOVF   1E,W
221E:  SUBLW  2B
2220:  BC    222A
....................     { 
....................         return 1; 
2222:  MOVLW  01
2224:  MOVWF  01
2226:  BRA    222E
....................     } 
2228:  BRA    222E
....................     else 
....................     { 
....................         return 0; 
222A:  MOVLW  00
222C:  MOVWF  01
....................     } 
222E:  RETURN 0
.................... } 
.................... int8 IsCenterAndNotMargins() 
.................... { 
....................     if (ad1 < 300 && ad2 >= 300 && ad3 >= 300 && ad4 < 300) 
....................     { 
....................         return 1; 
....................     } 
....................     else 
....................     { 
....................         return 0; 
....................     } 
.................... } 
.................... int8 IsCenterInside() 
.................... { 
....................     if (ad2 >= 300 && ad3 >= 300) 
*
21B4:  MOVF   1B,W
21B6:  SUBLW  00
21B8:  BC    21DC
21BA:  XORLW  FF
21BC:  BNZ   21C4
21BE:  MOVF   1A,W
21C0:  SUBLW  2B
21C2:  BC    21DC
21C4:  MOVF   1D,W
21C6:  SUBLW  00
21C8:  BC    21DC
21CA:  XORLW  FF
21CC:  BNZ   21D4
21CE:  MOVF   1C,W
21D0:  SUBLW  2B
21D2:  BC    21DC
....................     { 
....................         return 1; 
21D4:  MOVLW  01
21D6:  MOVWF  01
21D8:  BRA    21E0
....................     } 
21DA:  BRA    21E0
....................     else 
....................     { 
....................         return 0; 
21DC:  MOVLW  00
21DE:  MOVWF  01
....................     } 
21E0:  GOTO   2412 (RETURN)
.................... } 
.................... int8 IsMarginsInside() 
.................... { 
....................     if (ad1 >= 300 && ad4 >= 400) 
*
1E70:  MOVF   19,W
1E72:  SUBLW  00
1E74:  BC    1E98
1E76:  XORLW  FF
1E78:  BNZ   1E80
1E7A:  MOVF   18,W
1E7C:  SUBLW  2B
1E7E:  BC    1E98
1E80:  MOVF   1F,W
1E82:  SUBLW  00
1E84:  BC    1E98
1E86:  XORLW  FF
1E88:  BNZ   1E90
1E8A:  MOVF   1E,W
1E8C:  SUBLW  8F
1E8E:  BC    1E98
....................     { 
....................         return 1; 
1E90:  MOVLW  01
1E92:  MOVWF  01
1E94:  BRA    1E9C
....................     } 
1E96:  BRA    1E9C
....................     else 
....................     { 
....................         return 0; 
1E98:  MOVLW  00
1E9A:  MOVWF  01
....................     } 
1E9C:  GOTO   2330 (RETURN)
.................... } 
.................... int8 IsMarginsOutside() 
.................... { 
....................     if (ad1 < 300 && ad4 < 400) 
*
2140:  MOVF   19,W
2142:  SUBLW  01
2144:  BNC   2164
2146:  BNZ   214E
2148:  MOVF   18,W
214A:  SUBLW  2B
214C:  BNC   2164
214E:  MOVF   1F,W
2150:  SUBLW  01
2152:  BNC   2164
2154:  BNZ   215C
2156:  MOVF   1E,W
2158:  SUBLW  8F
215A:  BNC   2164
....................     { 
....................         return 1; 
215C:  MOVLW  01
215E:  MOVWF  01
2160:  BRA    2168
....................     } 
2162:  BRA    2168
....................     else 
....................     { 
....................         return 0; 
2164:  MOVLW  00
2166:  MOVWF  01
....................     } 
2168:  GOTO   234A (RETURN)
.................... } 
.................... int8 IsAllOutside() 
.................... { 
....................     if (ad1 < 300 && ad2 < 300 && ad3 < 300 && ad4 < 300) 
216C:  MOVF   19,W
216E:  SUBLW  01
2170:  BNC   21AC
2172:  BNZ   217A
2174:  MOVF   18,W
2176:  SUBLW  2B
2178:  BNC   21AC
217A:  MOVF   1B,W
217C:  SUBLW  01
217E:  BNC   21AC
2180:  BNZ   2188
2182:  MOVF   1A,W
2184:  SUBLW  2B
2186:  BNC   21AC
2188:  MOVF   1D,W
218A:  SUBLW  01
218C:  BNC   21AC
218E:  BNZ   2196
2190:  MOVF   1C,W
2192:  SUBLW  2B
2194:  BNC   21AC
2196:  MOVF   1F,W
2198:  SUBLW  01
219A:  BNC   21AC
219C:  BNZ   21A4
219E:  MOVF   1E,W
21A0:  SUBLW  2B
21A2:  BNC   21AC
....................     { 
....................         return 1; 
21A4:  MOVLW  01
21A6:  MOVWF  01
21A8:  BRA    21B0
....................     } 
21AA:  BRA    21B0
....................     else 
....................     { 
....................         return 0; 
21AC:  MOVLW  00
21AE:  MOVWF  01
....................     } 
21B0:  GOTO   23EE (RETURN)
.................... } 
.................... int8 IsLeft() 
.................... { 
....................     if (ad1 >= 300 && ad2 >= 300 && ad3 >= 300 && ad4 < 300) 
*
1E24:  MOVF   19,W
1E26:  SUBLW  00
1E28:  BC    1E6A
1E2A:  XORLW  FF
1E2C:  BNZ   1E34
1E2E:  MOVF   18,W
1E30:  SUBLW  2B
1E32:  BC    1E6A
1E34:  MOVF   1B,W
1E36:  SUBLW  00
1E38:  BC    1E6A
1E3A:  XORLW  FF
1E3C:  BNZ   1E44
1E3E:  MOVF   1A,W
1E40:  SUBLW  2B
1E42:  BC    1E6A
1E44:  MOVF   1D,W
1E46:  SUBLW  00
1E48:  BC    1E6A
1E4A:  XORLW  FF
1E4C:  BNZ   1E54
1E4E:  MOVF   1C,W
1E50:  SUBLW  2B
1E52:  BC    1E6A
1E54:  MOVF   1F,W
1E56:  SUBLW  01
1E58:  BNC   1E6A
1E5A:  BNZ   1E62
1E5C:  MOVF   1E,W
1E5E:  SUBLW  2B
1E60:  BNC   1E6A
....................     { 
....................         return 1; 
1E62:  MOVLW  01
1E64:  MOVWF  01
1E66:  BRA    1E6E
....................     } 
1E68:  BRA    1E6E
....................     else 
....................     { 
....................         return 0; 
1E6A:  MOVLW  00
1E6C:  MOVWF  01
....................     } 
1E6E:  RETURN 0
.................... } 
.................... int8 IsAllAlign() 
.................... { 
....................     if (ad1 >= 300 && ad2 >= 300 && ad3 >= 300 && ad4 >= 300) 
*
2230:  MOVF   19,W
2232:  SUBLW  00
2234:  BC    2278
2236:  XORLW  FF
2238:  BNZ   2240
223A:  MOVF   18,W
223C:  SUBLW  2B
223E:  BC    2278
2240:  MOVF   1B,W
2242:  SUBLW  00
2244:  BC    2278
2246:  XORLW  FF
2248:  BNZ   2250
224A:  MOVF   1A,W
224C:  SUBLW  2B
224E:  BC    2278
2250:  MOVF   1D,W
2252:  SUBLW  00
2254:  BC    2278
2256:  XORLW  FF
2258:  BNZ   2260
225A:  MOVF   1C,W
225C:  SUBLW  2B
225E:  BC    2278
2260:  MOVF   1F,W
2262:  SUBLW  00
2264:  BC    2278
2266:  XORLW  FF
2268:  BNZ   2270
226A:  MOVF   1E,W
226C:  SUBLW  2B
226E:  BC    2278
....................     { 
....................         return 1; 
2270:  MOVLW  01
2272:  MOVWF  01
2274:  BRA    227C
....................     } 
2276:  BRA    227C
....................     else 
....................     { 
....................         return 0; 
2278:  MOVLW  00
227A:  MOVWF  01
....................     } 
227C:  GOTO   24DA (RETURN)
.................... } 
....................  
.................... void Align() 
*
1BA6:  MOVFF  1B,3A
1BAA:  MOVFF  1A,39
1BAE:  RCALL  1538
1BB0:  MOVFF  03,38
1BB4:  MOVFF  02,37
1BB8:  MOVFF  01,36
1BBC:  MOVFF  00,35
1BC0:  MOVF   1C,W
1BC2:  ADDWF  1A,W
1BC4:  MOVWF  01
1BC6:  MOVF   1D,W
1BC8:  ADDWFC 1B,W
1BCA:  MOVWF  03
1BCC:  MOVFF  01,39
1BD0:  MOVWF  3A
1BD2:  RCALL  1538
1BD4:  MOVFF  38,3C
1BD8:  MOVFF  37,3B
1BDC:  MOVFF  36,3A
1BE0:  MOVFF  35,39
1BE4:  MOVFF  03,40
1BE8:  MOVFF  02,3F
1BEC:  MOVFF  01,3E
1BF0:  MOVFF  00,3D
1BF4:  RCALL  156E
1BF6:  MOVFF  03,2C
1BFA:  MOVFF  02,2B
1BFE:  MOVFF  01,2A
1C02:  MOVFF  00,29
1C06:  MOVFF  1D,3A
1C0A:  MOVFF  1C,39
1C0E:  RCALL  1538
1C10:  MOVFF  03,38
1C14:  MOVFF  02,37
1C18:  MOVFF  01,36
1C1C:  MOVFF  00,35
1C20:  MOVF   1C,W
1C22:  ADDWF  1A,W
1C24:  MOVWF  01
1C26:  MOVF   1D,W
1C28:  ADDWFC 1B,W
1C2A:  MOVWF  03
1C2C:  MOVFF  01,39
1C30:  MOVWF  3A
1C32:  RCALL  1538
1C34:  MOVFF  38,3C
1C38:  MOVFF  37,3B
1C3C:  MOVFF  36,3A
1C40:  MOVFF  35,39
1C44:  MOVFF  03,40
1C48:  MOVFF  02,3F
1C4C:  MOVFF  01,3E
1C50:  MOVFF  00,3D
1C54:  RCALL  156E
1C56:  MOVFF  03,30
1C5A:  MOVFF  02,2F
1C5E:  MOVFF  01,2E
1C62:  MOVFF  00,2D
.................... { 
....................     float ad2Ratio = (float)ad2 / (float)(ad2 + ad3); 
....................     float ad3Ratio = (float)ad3 / (float)(ad2 + ad3); 
....................  
....................     ///alto significa escuro 
....................     if (ad2 + ad3 > 400) 
1C66:  MOVF   1C,W
1C68:  ADDWF  1A,W
1C6A:  MOVWF  35
1C6C:  MOVF   1D,W
1C6E:  ADDWFC 1B,W
1C70:  MOVWF  36
1C72:  SUBLW  00
1C74:  BTFSC  FD8.0
1C76:  BRA    1DFE
1C78:  XORLW  FF
1C7A:  BNZ   1C84
1C7C:  MOVF   35,W
1C7E:  SUBLW  90
1C80:  BTFSC  FD8.0
1C82:  BRA    1DFE
1C84:  CLRF   16
1C86:  BTFSC  FF2.7
1C88:  BSF    16.7
1C8A:  BCF    FF2.7
....................     { 
....................         //Como quanto mais escuro mais alto, isso significa que o que esta com menos tem que subir, 
....................         //e vai subir proporcionalmente a quanto a menos ele tem, esse valor é exatamente o oposto (que esta no outro ad) 
....................  
....................         lcd_pos_xy(1, 1); 
1C8C:  MOVLW  01
1C8E:  MOVWF  50
1C90:  MOVWF  51
1C92:  CALL   116A
1C96:  BTFSC  16.7
1C98:  BSF    FF2.7
....................  
....................         //O ad2 é o da direita, se este esta maior, significa que o robo esta a direita 
....................         if (ad2Ratio > alignRatio) 
1C9A:  MOVFF  28,38
1C9E:  MOVFF  27,37
1CA2:  MOVFF  26,36
1CA6:  MOVFF  25,35
1CAA:  MOVFF  2C,3C
1CAE:  MOVFF  2B,3B
1CB2:  MOVFF  2A,3A
1CB6:  MOVFF  29,39
1CBA:  RCALL  16C8
1CBC:  BNC   1CD6
....................         { 
....................             printf(lcd_escreve, "Esta a direita"); 
1CBE:  MOVLW  C8
1CC0:  MOVWF  FF6
1CC2:  MOVLW  13
1CC4:  MOVWF  FF7
1CC6:  RCALL  150C
....................             SetBothPwm(950); 
1CC8:  MOVLW  03
1CCA:  MOVWF  36
1CCC:  MOVLW  B6
1CCE:  MOVWF  35
1CD0:  RCALL  173E
....................             LeftBackwardRightForward(); 
1CD2:  RCALL  178C
....................         } 
1CD4:  BRA    1DFC
....................         else if (ad3Ratio > alignRatio) 
1CD6:  MOVFF  28,38
1CDA:  MOVFF  27,37
1CDE:  MOVFF  26,36
1CE2:  MOVFF  25,35
1CE6:  MOVFF  30,3C
1CEA:  MOVFF  2F,3B
1CEE:  MOVFF  2E,3A
1CF2:  MOVFF  2D,39
1CF6:  RCALL  16C8
1CF8:  BNC   1D12
....................         { 
....................             printf(lcd_escreve, "Esta a esquerda"); 
1CFA:  MOVLW  D8
1CFC:  MOVWF  FF6
1CFE:  MOVLW  13
1D00:  MOVWF  FF7
1D02:  RCALL  150C
....................             SetBothPwm(950); 
1D04:  MOVLW  03
1D06:  MOVWF  36
1D08:  MOVLW  B6
1D0A:  MOVWF  35
1D0C:  RCALL  173E
....................             RightBackwardLeftForward(); 
1D0E:  RCALL  179E
....................         } 
1D10:  BRA    1DFC
....................         else 
....................         { 
....................  
....................             ///850 é o minimo que o motor vai ter (ele precisa de uns 800 pra não ficar travado) e vai somar no maximo 173 
....................             ///Por isso que o maximo dele é 1023 (850 + 173), é possivel fazer com que o valor de maior que 1023 e limitar 
....................             ///Com um if, da para testar isso 
....................             long pwm1 = ad2Ratio * 173 + 850; 
....................             long pwm2 = ad3Ratio * 173 + 850; 
1D12:  MOVFF  2C,38
1D16:  MOVFF  2B,37
1D1A:  MOVFF  2A,36
1D1E:  MOVFF  29,35
1D22:  CLRF   3C
1D24:  CLRF   3B
1D26:  MOVLW  2D
1D28:  MOVWF  3A
1D2A:  MOVLW  86
1D2C:  MOVWF  39
1D2E:  RCALL  17B0
1D30:  MOVFF  03,38
1D34:  MOVFF  02,37
1D38:  MOVFF  01,36
1D3C:  MOVFF  00,35
1D40:  BCF    FD8.1
1D42:  MOVFF  03,3C
1D46:  MOVFF  02,3B
1D4A:  MOVFF  01,3A
1D4E:  MOVFF  00,39
1D52:  CLRF   40
1D54:  MOVLW  80
1D56:  MOVWF  3F
1D58:  MOVLW  54
1D5A:  MOVWF  3E
1D5C:  MOVLW  88
1D5E:  MOVWF  3D
1D60:  RCALL  18A2
1D62:  MOVFF  03,38
1D66:  MOVFF  02,37
1D6A:  MOVFF  01,36
1D6E:  MOVFF  00,35
1D72:  RCALL  1B0C
1D74:  MOVFF  02,32
1D78:  MOVFF  01,31
1D7C:  MOVFF  30,38
1D80:  MOVFF  2F,37
1D84:  MOVFF  2E,36
1D88:  MOVFF  2D,35
1D8C:  CLRF   3C
1D8E:  CLRF   3B
1D90:  MOVLW  2D
1D92:  MOVWF  3A
1D94:  MOVLW  86
1D96:  MOVWF  39
1D98:  RCALL  17B0
1D9A:  MOVFF  03,38
1D9E:  MOVFF  02,37
1DA2:  MOVFF  01,36
1DA6:  MOVFF  00,35
1DAA:  BCF    FD8.1
1DAC:  MOVFF  03,3C
1DB0:  MOVFF  02,3B
1DB4:  MOVFF  01,3A
1DB8:  MOVFF  00,39
1DBC:  CLRF   40
1DBE:  MOVLW  80
1DC0:  MOVWF  3F
1DC2:  MOVLW  54
1DC4:  MOVWF  3E
1DC6:  MOVLW  88
1DC8:  MOVWF  3D
1DCA:  RCALL  18A2
1DCC:  MOVFF  03,38
1DD0:  MOVFF  02,37
1DD4:  MOVFF  01,36
1DD8:  MOVFF  00,35
1DDC:  RCALL  1B0C
1DDE:  MOVFF  02,34
1DE2:  MOVFF  01,33
....................             SetLeft(pwm1); 
1DE6:  MOVFF  32,36
1DEA:  MOVFF  31,35
1DEE:  RCALL  1B44
....................             SetRight(pwm2); 
1DF0:  MOVFF  34,36
1DF4:  MOVFF  33,35
1DF8:  RCALL  1B6C
....................             frente(); 
1DFA:  RCALL  1B94
....................             // SetLeft((long)(ad2Ratio * 100) + 850); 
....................             // SetRight((long)(ad3Ratio * 100) + 850); 
....................         } 
....................     } 
1DFC:  BRA    1E22
1DFE:  CLRF   16
1E00:  BTFSC  FF2.7
1E02:  BSF    16.7
1E04:  BCF    FF2.7
....................     else 
....................     { 
....................         ///Esta fora da pista, deve fazer algo 
....................         //SetBothPwm(0); 
....................         lcd_pos_xy(1, 2); 
1E06:  MOVLW  01
1E08:  MOVWF  50
1E0A:  MOVLW  02
1E0C:  MOVWF  51
1E0E:  CALL   116A
1E12:  BTFSC  16.7
1E14:  BSF    FF2.7
....................  
....................         printf(lcd_escreve, "Se perdeu"); 
1E16:  MOVLW  E8
1E18:  MOVWF  FF6
1E1A:  MOVLW  13
1E1C:  MOVWF  FF7
1E1E:  CALL   150C
....................     } 
1E22:  RETURN 0
.................... } 
....................  
.................... ///BASICAMENTE faz a mesma coisa que o algin, mas troca os sensores (coloca o da esquerda na direitea) 
.................... void InvertedAlign() 
*
1EA0:  MOVFF  1B,3A
1EA4:  MOVFF  1A,39
1EA8:  CALL   1538
1EAC:  MOVFF  03,38
1EB0:  MOVFF  02,37
1EB4:  MOVFF  01,36
1EB8:  MOVFF  00,35
1EBC:  MOVF   1C,W
1EBE:  ADDWF  1A,W
1EC0:  MOVWF  01
1EC2:  MOVF   1D,W
1EC4:  ADDWFC 1B,W
1EC6:  MOVWF  03
1EC8:  MOVFF  01,39
1ECC:  MOVWF  3A
1ECE:  CALL   1538
1ED2:  MOVFF  38,3C
1ED6:  MOVFF  37,3B
1EDA:  MOVFF  36,3A
1EDE:  MOVFF  35,39
1EE2:  MOVFF  03,40
1EE6:  MOVFF  02,3F
1EEA:  MOVFF  01,3E
1EEE:  MOVFF  00,3D
1EF2:  CALL   156E
1EF6:  MOVFF  03,2C
1EFA:  MOVFF  02,2B
1EFE:  MOVFF  01,2A
1F02:  MOVFF  00,29
1F06:  MOVFF  1D,3A
1F0A:  MOVFF  1C,39
1F0E:  CALL   1538
1F12:  MOVFF  03,38
1F16:  MOVFF  02,37
1F1A:  MOVFF  01,36
1F1E:  MOVFF  00,35
1F22:  MOVF   1C,W
1F24:  ADDWF  1A,W
1F26:  MOVWF  01
1F28:  MOVF   1D,W
1F2A:  ADDWFC 1B,W
1F2C:  MOVWF  03
1F2E:  MOVFF  01,39
1F32:  MOVWF  3A
1F34:  CALL   1538
1F38:  MOVFF  38,3C
1F3C:  MOVFF  37,3B
1F40:  MOVFF  36,3A
1F44:  MOVFF  35,39
1F48:  MOVFF  03,40
1F4C:  MOVFF  02,3F
1F50:  MOVFF  01,3E
1F54:  MOVFF  00,3D
1F58:  CALL   156E
1F5C:  MOVFF  03,30
1F60:  MOVFF  02,2F
1F64:  MOVFF  01,2E
1F68:  MOVFF  00,2D
.................... { 
....................     float ad2Ratio = (float)ad2 / (float)(ad2 + ad3); 
....................     float ad3Ratio = (float)ad3 / (float)(ad2 + ad3); 
....................  
....................     ///alto significa escuro 
....................     if (ad2 + ad3 <= 400) 
1F6C:  MOVF   1C,W
1F6E:  ADDWF  1A,W
1F70:  MOVWF  35
1F72:  MOVF   1D,W
1F74:  ADDWFC 1B,W
1F76:  MOVWF  36
1F78:  SUBLW  01
1F7A:  BTFSS  FD8.0
1F7C:  BRA    2118
1F7E:  BNZ   1F88
1F80:  MOVF   35,W
1F82:  SUBLW  90
1F84:  BTFSS  FD8.0
1F86:  BRA    2118
1F88:  CLRF   16
1F8A:  BTFSC  FF2.7
1F8C:  BSF    16.7
1F8E:  BCF    FF2.7
....................     { 
....................         //Como quanto mais escuro mais alto, isso significa que o que esta com menos tem que subir, 
....................         //e vai subir proporcionalmente a quanto a menos ele tem, esse valor é exatamente o oposto (que esta no outro ad) 
....................  
....................         lcd_pos_xy(1, 1); 
1F90:  MOVLW  01
1F92:  MOVWF  50
1F94:  MOVWF  51
1F96:  CALL   116A
1F9A:  BTFSC  16.7
1F9C:  BSF    FF2.7
....................  
....................         //O ad2 é o da direita, se este esta maior, significa que o robo esta a direita 
....................         if (ad3Ratio > alignRatio) 
1F9E:  MOVFF  28,38
1FA2:  MOVFF  27,37
1FA6:  MOVFF  26,36
1FAA:  MOVFF  25,35
1FAE:  MOVFF  30,3C
1FB2:  MOVFF  2F,3B
1FB6:  MOVFF  2E,3A
1FBA:  MOVFF  2D,39
1FBE:  CALL   16C8
1FC2:  BNC   1FE2
....................         { 
....................             printf(lcd_escreve, "Esta a direita"); 
1FC4:  MOVLW  F2
1FC6:  MOVWF  FF6
1FC8:  MOVLW  13
1FCA:  MOVWF  FF7
1FCC:  CALL   150C
....................             SetBothPwm(950); 
1FD0:  MOVLW  03
1FD2:  MOVWF  36
1FD4:  MOVLW  B6
1FD6:  MOVWF  35
1FD8:  CALL   173E
....................             LeftBackwardRightForward(); 
1FDC:  CALL   178C
....................         } 
1FE0:  BRA    2116
....................         else if (ad2Ratio > alignRatio) 
1FE2:  MOVFF  28,38
1FE6:  MOVFF  27,37
1FEA:  MOVFF  26,36
1FEE:  MOVFF  25,35
1FF2:  MOVFF  2C,3C
1FF6:  MOVFF  2B,3B
1FFA:  MOVFF  2A,3A
1FFE:  MOVFF  29,39
2002:  CALL   16C8
2006:  BNC   2026
....................         { 
....................             printf(lcd_escreve, "Esta a esquerda"); 
2008:  MOVLW  02
200A:  MOVWF  FF6
200C:  MOVLW  14
200E:  MOVWF  FF7
2010:  CALL   150C
....................             SetBothPwm(950); 
2014:  MOVLW  03
2016:  MOVWF  36
2018:  MOVLW  B6
201A:  MOVWF  35
201C:  CALL   173E
....................             RightBackwardLeftForward(); 
2020:  CALL   179E
....................         } 
2024:  BRA    2116
....................         else 
....................         { 
....................  
....................             ///850 é o minimo que o motor vai ter (ele precisa de uns 800 pra não ficar travado) e vai somar no maximo 173 
....................             ///Por isso que o maximo dele é 1023 (850 + 173), é possivel fazer com que o valor de maior que 1023 e limitar 
....................             ///Com um if, da para testar isso 
....................             long pwm1 = ad2Ratio * 173 + 850; 
....................             long pwm2 = ad3Ratio * 173 + 850; 
2026:  MOVFF  2C,38
202A:  MOVFF  2B,37
202E:  MOVFF  2A,36
2032:  MOVFF  29,35
2036:  CLRF   3C
2038:  CLRF   3B
203A:  MOVLW  2D
203C:  MOVWF  3A
203E:  MOVLW  86
2040:  MOVWF  39
2042:  CALL   17B0
2046:  MOVFF  03,38
204A:  MOVFF  02,37
204E:  MOVFF  01,36
2052:  MOVFF  00,35
2056:  BCF    FD8.1
2058:  MOVFF  03,3C
205C:  MOVFF  02,3B
2060:  MOVFF  01,3A
2064:  MOVFF  00,39
2068:  CLRF   40
206A:  MOVLW  80
206C:  MOVWF  3F
206E:  MOVLW  54
2070:  MOVWF  3E
2072:  MOVLW  88
2074:  MOVWF  3D
2076:  RCALL  18A2
2078:  MOVFF  03,38
207C:  MOVFF  02,37
2080:  MOVFF  01,36
2084:  MOVFF  00,35
2088:  RCALL  1B0C
208A:  MOVFF  02,32
208E:  MOVFF  01,31
2092:  MOVFF  30,38
2096:  MOVFF  2F,37
209A:  MOVFF  2E,36
209E:  MOVFF  2D,35
20A2:  CLRF   3C
20A4:  CLRF   3B
20A6:  MOVLW  2D
20A8:  MOVWF  3A
20AA:  MOVLW  86
20AC:  MOVWF  39
20AE:  CALL   17B0
20B2:  MOVFF  03,38
20B6:  MOVFF  02,37
20BA:  MOVFF  01,36
20BE:  MOVFF  00,35
20C2:  BCF    FD8.1
20C4:  MOVFF  03,3C
20C8:  MOVFF  02,3B
20CC:  MOVFF  01,3A
20D0:  MOVFF  00,39
20D4:  CLRF   40
20D6:  MOVLW  80
20D8:  MOVWF  3F
20DA:  MOVLW  54
20DC:  MOVWF  3E
20DE:  MOVLW  88
20E0:  MOVWF  3D
20E2:  CALL   18A2
20E6:  MOVFF  03,38
20EA:  MOVFF  02,37
20EE:  MOVFF  01,36
20F2:  MOVFF  00,35
20F6:  RCALL  1B0C
20F8:  MOVFF  02,34
20FC:  MOVFF  01,33
....................             SetLeft(pwm2); 
2100:  MOVFF  34,36
2104:  MOVFF  33,35
2108:  RCALL  1B44
....................             SetRight(pwm1); 
210A:  MOVFF  32,36
210E:  MOVFF  31,35
2112:  RCALL  1B6C
....................             frente(); 
2114:  RCALL  1B94
....................             // SetLeft((long)(ad2Ratio * 100) + 850); 
....................             // SetRight((long)(ad3Ratio * 100) + 850); 
....................         } 
....................     } 
2116:  BRA    213C
2118:  CLRF   16
211A:  BTFSC  FF2.7
211C:  BSF    16.7
211E:  BCF    FF2.7
....................     else 
....................     { 
....................         ///Esta fora da pista, deve fazer algo 
....................         //SetBothPwm(0); 
....................         lcd_pos_xy(1, 2); 
2120:  MOVLW  01
2122:  MOVWF  50
2124:  MOVLW  02
2126:  MOVWF  51
2128:  CALL   116A
212C:  BTFSC  16.7
212E:  BSF    FF2.7
....................  
....................         printf(lcd_escreve, "Se perdeu"); 
2130:  MOVLW  12
2132:  MOVWF  FF6
2134:  MOVLW  14
2136:  MOVWF  FF7
2138:  CALL   150C
....................     } 
213C:  GOTO   2348 (RETURN)
.................... } 
....................  
.................... void Setup() 
.................... { 
....................     adCounter = 1; 
*
14DE:  MOVLW  01
14E0:  MOVWF  22
....................     running = 0; 
14E2:  CLRF   17
....................  
....................     setup_adc_ports(AN0_TO_AN3); 
14E4:  MOVF   FC1,W
14E6:  ANDLW  C0
14E8:  IORLW  0B
14EA:  MOVWF  FC1
....................     setup_adc(ADC_CLOCK_DIV_4); 
14EC:  MOVF   FC0,W
14EE:  ANDLW  C0
14F0:  IORLW  04
14F2:  MOVWF  FC0
14F4:  BSF    FC0.7
14F6:  BSF    FC2.0
....................  
....................     setup_timer_0(RTCC_INTERNAL | RTCC_DIV_2 | RTCC_8_BIT); 
14F8:  MOVLW  C0
14FA:  MOVWF  FD5
....................     set_timer0(0); 
14FC:  CLRF   FD7
14FE:  CLRF   FD6
....................     enable_interrupts(INT_TIMER0); 
1500:  BSF    FF2.5
....................     enable_interrupts(GLOBAL); 
1502:  IORWF  FF2,F
....................  
....................     lcd_ini(); 
1504:  BRA    141C
....................     MotorInitialize(); 
1506:  BRA    14BE
1508:  GOTO   22AC (RETURN)
....................     // SetBothPwm(0); 
....................     // frente(); 
.................... } 
....................  
.................... void ClearScreen() 
.................... { 
....................     lcd_escreve('\f'); 
*
11D2:  MOVLW  0C
11D4:  MOVWF  4F
11D6:  RCALL  118C
11D8:  GOTO   1330 (RETURN)
.................... } 

Configuration Fuses:
   Word  1: CE24   PLL5 CPUDIV1 USBDIV HSPLL FCMEN IESO
   Word  2: 0E38   PUT NOBROWNOUT BORV21 VREGEN NOWDT WDT128
   Word  3: 8700   CCP2C1 PBADEN LPT1OSC MCLR
   Word  4: 00A1   STVREN NOLVP ICSP2 NOXINST NODEBUG
   Word  5: C00F   NOPROTECT NOCPB NOCPD
   Word  6: E00F   NOWRT NOWRTC NOWRTB NOWRTD
   Word  7: 400F   NOEBTR NOEBTRB
