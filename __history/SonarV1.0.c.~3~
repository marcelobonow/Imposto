#build(reset=0x1000, interrupt=0x1008)
//#org 0x000, 0xfff { }

#define  echo1    pin_b6
#define  trig1    pin_b7

#define  echo2    pin_b5
#define  trig2    pin_b4

#define  echo3    pin_b2
#define  trig3    pin_b3


float le_distancia1(){

   float tempo_medido=0;
   float tempo_media=0;
   int x;
   
   for(x=0;x<3;x++)
   {
   output_bit(trig1,1);
   delay_us(10);
   output_bit(trig1,0);

   while(input(echo1)==0);
   
   setup_timer_1(T1_INTERNAL|T1_DIV_BY_8);//FREQ 20MHz/32
   set_timer1(0);
   
   while(input(echo1)==1);
   
   setup_timer_1(T1_DISABLED);
   tempo_media=tempo_media+get_timer1();
   }
   tempo_medido=tempo_media/3;
   return ((tempo_medido*5)/(8*58));
}

float le_distancia2(){

   float tempo_medido=0;
   float tempo_media=0;
   int x;
   
   for(x=0;x<3;x++)
   {
   output_bit(trig2,1);
   delay_us(10);
   output_bit(trig2,0);

   while(input(echo2)==0);
   
   setup_timer_1(T1_INTERNAL|T1_DIV_BY_8);//FREQ 20MHz/32
   set_timer1(0);
   
   while(input(echo2)==1);
   
   setup_timer_1(T1_DISABLED);
   tempo_media=tempo_media+get_timer1();
   }
   tempo_medido=tempo_media/3;
   return ((tempo_medido*5)/(8*58));
}

float le_distancia3(){

   float tempo_medido=0;
   float tempo_media=0;
   int x;
   
   for(x=0;x<3;x++)
   {
   output_bit(trig3,1);
   delay_us(10);
   output_bit(trig3,0);

   while(input(echo3)==0);
   
   setup_timer_1(T1_INTERNAL|T1_DIV_BY_8);//FREQ 20MHz/32
   set_timer1(0);
   
   while(input(echo3)==1);
   
   setup_timer_1(T1_DISABLED);
   tempo_media=tempo_media+get_timer1();
   }
   tempo_medido=tempo_media/3;
   return ((tempo_medido*5)/(8*58));
}

